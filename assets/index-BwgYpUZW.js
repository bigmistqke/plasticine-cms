(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const E={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return un(this.context.count)},getNextContextId(){return un(this.context.count++)}};function un(e){const t=String(e),n=t.length-1;return E.context.id+(n?String.fromCharCode(96+n):"")+t}function et(e){E.context=e}const pr=!1,yr=(e,t)=>e===t,ne=Symbol("solid-proxy"),En=typeof Proxy=="function",Ue=Symbol("solid-track"),it={equals:yr};let br=In;const re=1,Be=2,Sn={owned:null,cleanups:null,context:null,owner:null},$t={};var C=null;let w=null,wr=null,O=null,B=null,V=null,gt=0;function le(e,t){const n=O,r=C,s=e.length===0,i=t===void 0?r:t,a=s?Sn:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=s?e:()=>e(()=>j(()=>ce(a)));C=a,O=null;try{return J(o,!0)}finally{O=n,C=r}}function N(e,t){t=t?Object.assign({},it,t):it;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(w&&w.running&&w.sources.has(n)?s=s(n.tValue):s=s(n.value)),jn(n,s));return[On.bind(n),r]}function fn(e,t,n){const r=Xt(e,t,!0,re);Xe(r)}function R(e,t,n){const r=Xt(e,t,!1,re);Xe(r)}function x(e,t,n){n=n?Object.assign({},it,n):it;const r=Xt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Xe(r),On.bind(r)}function vr(e){return e&&typeof e=="object"&&"then"in e}function dn(e,t,n){let r,s,i;r=!0,s=e,i={};let a=null,o=$t,l=null,c=!1,f=!1,u="initialValue"in i,h=typeof r=="function"&&x(r);const m=new Set,[d,g]=(i.storage||N)(i.initialValue),[p,v]=N(void 0),[y,_]=N(void 0,{equals:!1}),[P,T]=N(u?"ready":"unresolved");E.context&&(l=E.getNextContextId(),i.ssrLoadFrom==="initial"?o=i.initialValue:E.load&&E.has(l)&&(o=E.load(l)));function M(L,D,G,A){return a===L&&(a=null,A!==void 0&&(u=!0),(L===o||D===o)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(A,{value:D})),o=$t,w&&L&&c?(w.promises.delete(L),c=!1,J(()=>{w.running=!0,oe(D,G)},!1)):oe(D,G)),D}function oe(L,D){J(()=>{D===void 0&&g(()=>L),T(D!==void 0?"errored":u?"ready":"unresolved"),v(D);for(const G of m.keys())G.decrement();m.clear()},!1)}function he(){const L=Ve&&Je(Ve),D=d(),G=p();if(G!==void 0&&!a)throw G;return O&&!O.user&&L&&fn(()=>{y(),a&&(L.resolved&&w&&c?w.promises.add(a):m.has(L)||(L.increment(),m.add(L)))}),D}function $e(L=!0){if(L!==!1&&f)return;f=!1;const D=h?h():r;if(c=w&&w.running,D==null||D===!1){M(a,j(d));return}w&&a&&w.promises.delete(a);let G;const A=o!==$t?o:j(()=>{try{return s(D,{value:d(),refetching:L})}catch(S){G=S}});if(G!==void 0){M(a,void 0,rt(G),D);return}else if(!vr(A))return M(a,A,void 0,D),A;return a=A,"v"in A?(A.s===1?M(a,A.v,void 0,D):M(a,void 0,rt(A.v),D),A):(f=!0,queueMicrotask(()=>f=!1),J(()=>{T(u?"refreshing":"pending"),_()},!1),A.then(S=>M(A,S,void 0,D),S=>M(A,void 0,rt(S),D)))}Object.defineProperties(he,{state:{get:()=>P()},error:{get:()=>p()},loading:{get(){const L=P();return L==="pending"||L==="refreshing"}},latest:{get(){if(!u)return he();const L=p();if(L&&!a)throw L;return d()}}});let Fe=C;return h?fn(()=>(Fe=C,$e(!1))):$e(!1),[he,{refetch:L=>Jt(Fe,()=>$e(L)),mutate:g}]}function ae(e){return J(e,!1)}function j(e){if(O===null)return e();const t=O;O=null;try{return e()}finally{O=t}}function Wt(e,t,n){const r=Array.isArray(e);let s,i=n&&n.defer;return a=>{let o;if(r){o=Array(e.length);for(let c=0;c<e.length;c++)o[c]=e[c]()}else o=e();if(i)return i=!1,a;const l=j(()=>t(o,s,a));return s=o,l}}function fe(e){return C===null||(C.cleanups===null?C.cleanups=[e]:C.cleanups.push(e)),e}function at(){return O}function He(){return C}function Jt(e,t){const n=C,r=O;C=e,O=null;try{return J(t,!0)}catch(s){Yt(s)}finally{C=n,O=r}}function De(e){if(w&&w.running)return e(),w.done;const t=O,n=C;return Promise.resolve().then(()=>{O=t,C=n;let r;return Ve&&(r=w||(w={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(s=>r.resolve=s)),r.running=!0),J(e,!1),O=C=null,r?r.done:void 0})}const[uo,hn]=N(!1);function $r(e){V.push.apply(V,e),e.length=0}function We(e,t){const n=Symbol("context");return{id:n,Provider:xr(n),defaultValue:e}}function Je(e){let t;return C&&C.context&&(t=C.context[e.id])!==void 0?t:e.defaultValue}function mt(e){const t=x(e),n=x(()=>Ot(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Ve;function kr(){return Ve||(Ve=We())}function On(){const e=w&&w.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===re)Xe(this);else{const t=B;B=null,J(()=>ot(this),!1),B=t}if(O){const t=this.observers?this.observers.length:0;O.sources?(O.sources.push(this),O.sourceSlots.push(t)):(O.sources=[this],O.sourceSlots=[t]),this.observers?(this.observers.push(O),this.observerSlots.push(O.sources.length-1)):(this.observers=[O],this.observerSlots=[O.sources.length-1])}return e&&w.sources.has(this)?this.tValue:this.value}function jn(e,t,n){let r=w&&w.running&&w.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(r,t)){if(w){const s=w.running;(s||!n&&w.sources.has(e))&&(w.sources.add(e),e.tValue=t),s||(e.value=t)}else e.value=t;e.observers&&e.observers.length&&J(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],a=w&&w.running;a&&w.disposed.has(i)||((a?!i.tState:!i.state)&&(i.pure?B.push(i):V.push(i),i.observers&&Ln(i)),a?i.tState=re:i.state=re)}if(B.length>1e6)throw B=[],new Error},!1)}return t}function Xe(e){if(!e.fn)return;ce(e);const t=gt;gn(e,w&&w.running&&w.sources.has(e)?e.tValue:e.value,t),w&&!w.running&&w.sources.has(e)&&queueMicrotask(()=>{J(()=>{w&&(w.running=!0),O=C=e,gn(e,e.tValue,t),O=C=null},!1)})}function gn(e,t,n){let r;const s=C,i=O;O=C=e;try{r=e.fn(t)}catch(a){return e.pure&&(w&&w.running?(e.tState=re,e.tOwned&&e.tOwned.forEach(ce),e.tOwned=void 0):(e.state=re,e.owned&&e.owned.forEach(ce),e.owned=null)),e.updatedAt=n+1,Yt(a)}finally{O=i,C=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?jn(e,r,!0):w&&w.running&&e.pure?(w.sources.add(e),e.tValue=r):e.value=r,e.updatedAt=n)}function Xt(e,t,n,r=re,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:C?C.context:null,pure:n};return w&&w.running&&(i.state=0,i.tState=r),C===null||C!==Sn&&(w&&w.running&&C.pure?C.tOwned?C.tOwned.push(i):C.tOwned=[i]:C.owned?C.owned.push(i):C.owned=[i]),i}function Tn(e){const t=w&&w.running;if((t?e.tState:e.state)===0)return;if((t?e.tState:e.state)===Be)return ot(e);if(e.suspense&&j(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<gt);){if(t&&w.disposed.has(e))return;(t?e.tState:e.state)&&n.push(e)}for(let r=n.length-1;r>=0;r--){if(e=n[r],t){let s=e,i=n[r+1];for(;(s=s.owner)&&s!==i;)if(w.disposed.has(s))return}if((t?e.tState:e.state)===re)Xe(e);else if((t?e.tState:e.state)===Be){const s=B;B=null,J(()=>ot(e,n[0]),!1),B=s}}}function J(e,t){if(B)return e();let n=!1;t||(B=[]),V?n=!0:V=[],gt++;try{const r=e();return _r(n),r}catch(r){n||(V=null),B=null,Yt(r)}}function _r(e){if(B&&(In(B),B=null),e)return;let t;if(w){if(!w.promises.size&&!w.queue.size){const r=w.sources,s=w.disposed;V.push.apply(V,w.effects),t=w.resolve;for(const i of V)"tState"in i&&(i.state=i.tState),delete i.tState;w=null,J(()=>{for(const i of s)ce(i);for(const i of r){if(i.value=i.tValue,i.owned)for(let a=0,o=i.owned.length;a<o;a++)ce(i.owned[a]);i.tOwned&&(i.owned=i.tOwned),delete i.tValue,delete i.tOwned,i.tState=0}hn(!1)},!1)}else if(w.running){w.running=!1,w.effects.push.apply(w.effects,V),V=null,hn(!0);return}}const n=V;V=null,n.length&&J(()=>br(n),!1),t&&t()}function In(e){for(let t=0;t<e.length;t++)Tn(e[t])}function ot(e,t){const n=w&&w.running;n?e.tState=0:e.state=0;for(let r=0;r<e.sources.length;r+=1){const s=e.sources[r];if(s.sources){const i=n?s.tState:s.state;i===re?s!==t&&(!s.updatedAt||s.updatedAt<gt)&&Tn(s):i===Be&&ot(s,t)}}}function Ln(e){const t=w&&w.running;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(t?!r.tState:!r.state)&&(t?r.tState=Be:r.state=Be,r.pure?B.push(r):V.push(r),r.observers&&Ln(r))}}function ce(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),a=n.observerSlots.pop();r<s.length&&(i.sourceSlots[a]=r,s[r]=i,n.observerSlots[r]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ce(e.tOwned[t]);delete e.tOwned}if(w&&w.running&&e.pure)Nn(e,!0);else if(e.owned){for(t=e.owned.length-1;t>=0;t--)ce(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}w&&w.running?e.tState=0:e.state=0}function Nn(e,t){if(t||(e.tState=0,w.disposed.add(e)),e.owned)for(let n=0;n<e.owned.length;n++)Nn(e.owned[n])}function rt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Yt(e,t=C){throw rt(e)}function Ot(e){if(typeof e=="function"&&!e.length)return Ot(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Ot(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function xr(e,t){return function(r){let s;return R(()=>s=j(()=>(C.context={...C.context,[e]:r.value},mt(()=>r.children))),void 0),s}}const jt=Symbol("fallback");function lt(e){for(let t=0;t<e.length;t++)e[t]()}function Ar(e,t,n={}){let r=[],s=[],i=[],a=0,o=t.length>1?[]:null;return fe(()=>lt(i)),()=>{let l=e()||[],c=l.length,f,u;return l[Ue],j(()=>{let m,d,g,p,v,y,_,P,T;if(c===0)a!==0&&(lt(i),i=[],r=[],s=[],a=0,o&&(o=[])),n.fallback&&(r=[jt],s[0]=le(M=>(i[0]=M,n.fallback())),a=1);else if(a===0){for(s=new Array(c),u=0;u<c;u++)r[u]=l[u],s[u]=le(h);a=c}else{for(g=new Array(c),p=new Array(c),o&&(v=new Array(c)),y=0,_=Math.min(a,c);y<_&&r[y]===l[y];y++);for(_=a-1,P=c-1;_>=y&&P>=y&&r[_]===l[P];_--,P--)g[P]=s[_],p[P]=i[_],o&&(v[P]=o[_]);for(m=new Map,d=new Array(P+1),u=P;u>=y;u--)T=l[u],f=m.get(T),d[u]=f===void 0?-1:f,m.set(T,u);for(f=y;f<=_;f++)T=r[f],u=m.get(T),u!==void 0&&u!==-1?(g[u]=s[f],p[u]=i[f],o&&(v[u]=o[f]),u=d[u],m.set(T,u)):i[f]();for(u=y;u<c;u++)u in g?(s[u]=g[u],i[u]=p[u],o&&(o[u]=v[u],o[u](u))):s[u]=le(h);s=s.slice(0,a=c),r=l.slice(0)}return s});function h(m){if(i[u]=m,o){const[d,g]=N(u);return o[u]=g,t(l[u],d)}return t(l[u])}}}function Pr(e,t,n={}){let r=[],s=[],i=[],a=[],o=0,l;return fe(()=>lt(i)),()=>{const c=e()||[],f=c.length;return c[Ue],j(()=>{if(f===0)return o!==0&&(lt(i),i=[],r=[],s=[],o=0,a=[]),n.fallback&&(r=[jt],s[0]=le(h=>(i[0]=h,n.fallback())),o=1),s;for(r[0]===jt&&(i[0](),i=[],r=[],s=[],o=0),l=0;l<f;l++)l<r.length&&r[l]!==c[l]?a[l](()=>c[l]):l>=r.length&&(s[l]=le(u));for(;l<r.length;l++)i[l]();return o=a.length=i.length=f,r=c.slice(0),s=s.slice(0,o)});function u(h){i[l]=h;const[m,d]=N(c[l]);return a[l]=d,t(m,l)}}}function b(e,t){return j(()=>e(t||{}))}function tt(){return!0}const Tt={get(e,t,n){return t===ne?n:e.get(t)},has(e,t){return t===ne?!0:e.has(t)},set:tt,deleteProperty:tt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:tt,deleteProperty:tt}},ownKeys(e){return e.keys()}};function kt(e){return(e=typeof e=="function"?e():e)?e:{}}function Cr(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function K(...e){let t=!1;for(let a=0;a<e.length;a++){const o=e[a];t=t||!!o&&ne in o,e[a]=typeof o=="function"?(t=!0,x(o)):o}if(En&&t)return new Proxy({get(a){for(let o=e.length-1;o>=0;o--){const l=kt(e[o])[a];if(l!==void 0)return l}},has(a){for(let o=e.length-1;o>=0;o--)if(a in kt(e[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<e.length;o++)a.push(...Object.keys(kt(e[o])));return[...new Set(a)]}},Tt);const n={},r=Object.create(null);for(let a=e.length-1;a>=0;a--){const o=e[a];if(!o)continue;const l=Object.getOwnPropertyNames(o);for(let c=l.length-1;c>=0;c--){const f=l[c];if(f==="__proto__"||f==="constructor")continue;const u=Object.getOwnPropertyDescriptor(o,f);if(!r[f])r[f]=u.get?{enumerable:!0,configurable:!0,get:Cr.bind(n[f]=[u.get.bind(o)])}:u.value!==void 0?u:void 0;else{const h=n[f];h&&(u.get?h.push(u.get.bind(o)):u.value!==void 0&&h.push(()=>u.value))}}}const s={},i=Object.keys(r);for(let a=i.length-1;a>=0;a--){const o=i[a],l=r[o];l&&l.get?Object.defineProperty(s,o,l):s[o]=l?l.value:void 0}return s}function Dn(e,...t){if(En&&ne in e){const s=new Set(t.length>1?t.flat():t[0]),i=t.map(a=>new Proxy({get(o){return a.includes(o)?e[o]:void 0},has(o){return a.includes(o)&&o in e},keys(){return a.filter(o=>o in e)}},Tt));return i.push(new Proxy({get(a){return s.has(a)?void 0:e[a]},has(a){return s.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!s.has(a))}},Tt)),i}const n={},r=t.map(()=>({}));for(const s of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,s),a=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let o=!1,l=0;for(const c of t)c.includes(s)&&(o=!0,a?r[l][s]=i.value:Object.defineProperty(r[l],s,i)),++l;o||(a?n[s]=i.value:Object.defineProperty(n,s,i))}return[...r,n]}let Er=0;function pt(){return E.context?E.getNextContextId():`cl-${Er++}`}const Rn=e=>`Stale read from <${e}>.`;function ye(e){const t="fallback"in e&&{fallback:()=>e.fallback};return x(Ar(()=>e.each,e.children,t||void 0))}function Sr(e){const t="fallback"in e&&{fallback:()=>e.fallback};return x(Pr(()=>e.each,e.children,t||void 0))}function I(e){const t=e.keyed,n=x(()=>e.when,void 0,void 0),r=t?n:x(n,void 0,{equals:(s,i)=>!s==!i});return x(()=>{const s=r();if(s){const i=e.children;return typeof i=="function"&&i.length>0?j(()=>i(t?s:()=>{if(!j(r))throw Rn("Show");return n()})):i}return e.fallback},void 0,void 0)}function Mn(e){const t=mt(()=>e.children),n=x(()=>{const r=t(),s=Array.isArray(r)?r:[r];let i=()=>{};for(let a=0;a<s.length;a++){const o=a,l=s[a],c=i,f=x(()=>c()?void 0:l.when,void 0,void 0),u=l.keyed?f:x(f,void 0,{equals:(h,m)=>!h==!m});i=()=>c()||(u()?[o,f,l]:void 0)}return i});return x(()=>{const r=n()();if(!r)return e.fallback;const[s,i,a]=r,o=a.children;return typeof o=="function"&&o.length>0?j(()=>o(a.keyed?i():()=>{if(j(n)()?.[0]!==s)throw Rn("Match");return i()})):o},void 0,void 0)}function ct(e){return e}const Or=We();function mn(e){let t=0,n,r,s,i,a;const[o,l]=N(!1),c=kr(),f={increment:()=>{++t===1&&l(!0)},decrement:()=>{--t===0&&l(!1)},inFallback:o,effects:[],resolved:!1},u=He();if(E.context&&E.load){const d=E.getContextId();let g=E.load(d);if(g&&(typeof g!="object"||g.s!==1?s=g:E.gather(d)),s&&s!=="$$f"){const[p,v]=N(void 0,{equals:!1});i=p,s.then(()=>{if(E.done)return v();E.gather(d),et(r),v(),et()},y=>{a=y,v()})}}const h=Je(Or);h&&(n=h.register(f.inFallback));let m;return fe(()=>m&&m()),b(c.Provider,{value:f,get children(){return x(()=>{if(a)throw a;if(r=E.context,i)return i(),i=void 0;r&&s==="$$f"&&et();const d=x(()=>e.children);return x(g=>{const p=f.inFallback(),{showContent:v=!0,showFallback:y=!0}=n?n():{};if((!p||s&&s!=="$$f")&&v)return f.resolved=!0,m&&m(),m=r=s=void 0,$r(f.effects),d();if(y)return m?g:le(_=>(m=_,r&&(et({id:r.id+"F",count:0}),r=void 0),e.fallback),u)})})}})}const jr=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],Tr=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...jr]),Ir=new Set(["innerHTML","textContent","innerText","children"]),Lr=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Nr=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Dr(e,t){const n=Nr[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Rr=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Mr=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Ur={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},H=e=>x(()=>e());function Br(e,t,n){let r=n.length,s=t.length,i=r,a=0,o=0,l=t[s-1].nextSibling,c=null;for(;a<s||o<i;){if(t[a]===n[o]){a++,o++;continue}for(;t[s-1]===n[i-1];)s--,i--;if(s===a){const f=i<r?o?n[o-1].nextSibling:n[i-o]:l;for(;o<i;)e.insertBefore(n[o++],f)}else if(i===o)for(;a<s;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[i-1]&&n[o]===t[s-1]){const f=t[--s].nextSibling;e.insertBefore(n[o++],t[a++].nextSibling),e.insertBefore(n[--i],f),t[s]=n[i]}else{if(!c){c=new Map;let u=o;for(;u<i;)c.set(n[u],u++)}const f=c.get(t[a]);if(f!=null)if(o<f&&f<i){let u=a,h=1,m;for(;++u<s&&u<i&&!((m=c.get(t[u]))==null||m!==f+h);)h++;if(h>f-o){const d=t[a];for(;o<f;)e.insertBefore(n[o++],d)}else e.replaceChild(n[o++],t[a++])}else a++;else t[a++].remove()}}}const pn="_$DX_DELEGATE";function Vr(e,t,n,r={}){let s;return le(i=>{s=i,t===document?e():$(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{s(),t.textContent=""}}function k(e,t,n,r){let s;const i=()=>{const o=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:r?o.firstChild:o.content.firstChild},a=t?()=>j(()=>document.importNode(s||(s=i()),!0)):()=>(s||(s=i())).cloneNode(!0);return a.cloneNode=a,a}function de(e,t=window.document){const n=t[pn]||(t[pn]=new Set);for(let r=0,s=e.length;r<s;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,Yr))}}function q(e,t,n){be(e)||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function qr(e,t,n,r){be(e)||(r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r))}function Kr(e,t,n){be(e)||(n?e.setAttribute(t,""):e.removeAttribute(t))}function Un(e,t){be(e)||(t==null?e.removeAttribute("class"):e.className=t)}function Bn(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const s=n[0];e.addEventListener(t,n[0]=i=>s.call(e,n[1],i))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Gr(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let i,a;for(i=0,a=s.length;i<a;i++){const o=s[i];!o||o==="undefined"||t[o]||(yn(e,o,!1),delete n[o])}for(i=0,a=r.length;i<a;i++){const o=r[i],l=!!t[o];!o||o==="undefined"||n[o]===l||!l||(yn(e,o,!0),n[o]=l)}return n}function zr(e,t,n){if(!t)return n?q(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let s,i;for(i in n)t[i]==null&&r.removeProperty(i),delete n[i];for(i in t)s=t[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function Hr(e,t,n){e.style.setProperty(t,n)}function X(e,t={},n,r){const s={};return r||R(()=>s.children=qe(e,t.children,s.children)),R(()=>typeof t.ref=="function"&&Zt(t.ref,e)),R(()=>Wr(e,t,n,!0,s,!0)),s}function Zt(e,t,n){return j(()=>e(t,n))}function $(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return qe(e,t,r,n);R(s=>qe(e,t(),s,n),r)}function Wr(e,t,n,r,s={},i=!1){t||(t={});for(const a in s)if(!(a in t)){if(a==="children")continue;s[a]=bn(e,a,null,s[a],n,i,t)}for(const a in t){if(a==="children")continue;const o=t[a];s[a]=bn(e,a,o,s[a],n,i,t)}}function Jr(e){let t,n;return!be()||!(t=E.registry.get(n=Zr()))?e():(E.completed&&E.completed.add(t),E.registry.delete(n),t)}function be(e){return!!E.context&&!E.done&&(!e||e.isConnected)}function Xr(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function yn(e,t,n){const r=t.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)e.classList.toggle(r[s],n)}function bn(e,t,n,r,s,i,a){let o,l,c,f,u;if(t==="style")return zr(e,n,r);if(t==="classList")return Gr(e,n,r);if(n===r)return r;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);r&&e.removeEventListener(h,r,typeof r!="function"&&r),n&&e.addEventListener(h,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);r&&e.removeEventListener(h,r,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),m=Rr.has(h);if(!m&&r){const d=Array.isArray(r)?r[0]:r;e.removeEventListener(h,d)}(m||n)&&(Bn(e,h,n,m),m&&de([h]))}else if(t.slice(0,5)==="attr:")q(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")Kr(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(c=Ir.has(t))||!s&&((f=Dr(t,e.tagName))||(l=Tr.has(t)))||(o=e.nodeName.includes("-")||"is"in a)){if(u)t=t.slice(5),l=!0;else if(be(e))return n;t==="class"||t==="className"?Un(e,n):o&&!l&&!c?e[Xr(t)]=n:e[f||t]=n}else{const h=s&&t.indexOf(":")>-1&&Ur[t.split(":")[0]];h?qr(e,h,t,n):q(e,Lr[t]||t,n)}return n}function Yr(e){if(E.registry&&E.events&&E.events.find(([l,c])=>c===e))return;let t=e.target;const n=`$$${e.type}`,r=e.target,s=e.currentTarget,i=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),a=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},o=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),E.registry&&!E.done&&(E.done=_$HY.done=!0),e.composedPath){const l=e.composedPath();i(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!a());c++){if(t._$host){t=t._$host,o();break}if(t.parentNode===s)break}}else o();i(r)}function qe(e,t,n,r,s){const i=be(e);if(i){!n&&(n=[...e.childNodes]);let l=[];for(let c=0;c<n.length;c++){const f=n[c];f.nodeType===8&&f.data.slice(0,2)==="!$"?f.remove():l.push(f)}n=l}for(;typeof n=="function";)n=n();if(t===n)return n;const a=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,a==="string"||a==="number"){if(i||a==="number"&&(t=t.toString(),t===n))return n;if(o){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=xe(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||a==="boolean"){if(i)return n;n=xe(e,n,r)}else{if(a==="function")return R(()=>{let l=t();for(;typeof l=="function";)l=l();n=qe(e,l,n,r)}),()=>n;if(Array.isArray(t)){const l=[],c=n&&Array.isArray(n);if(It(l,t,n,s))return R(()=>n=qe(e,l,n,r,!0)),()=>n;if(i){if(!l.length)return n;if(r===void 0)return n=[...e.childNodes];let f=l[0];if(f.parentNode!==e)return n;const u=[f];for(;(f=f.nextSibling)!==r;)u.push(f);return n=u}if(l.length===0){if(n=xe(e,n,r),o)return n}else c?n.length===0?wn(e,l,r):Br(e,n,l):(n&&xe(e),wn(e,l));n=l}else if(t.nodeType){if(i&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=xe(e,n,r,t);xe(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function It(e,t,n,r){let s=!1;for(let i=0,a=t.length;i<a;i++){let o=t[i],l=n&&n[e.length],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))s=It(e,o,l)||s;else if(c==="function")if(r){for(;typeof o=="function";)o=o();s=It(e,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||s}else e.push(o),s=!0;else{const f=String(o);l&&l.nodeType===3&&l.data===f?e.push(l):e.push(document.createTextNode(f))}}return s}function wn(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function xe(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let i=!1;for(let a=t.length-1;a>=0;a--){const o=t[a];if(s!==o){const l=o.parentNode===e;!i&&!a?l?e.replaceChild(s,o):e.insertBefore(s,n):l&&o.remove()}else i=!0}}else e.insertBefore(s,n);return[s]}function Zr(){return E.getNextContextId()}const Vn=!1,Fr="http://www.w3.org/2000/svg";function Qr(e,t=!1,n=void 0){return t?document.createElementNS(Fr,e):document.createElement(e,{is:n})}function es(e,t){const n=x(e);return x(()=>{const r=n();switch(typeof r){case"function":return j(()=>r(t));case"string":const s=Mr.has(r),i=E.context?Jr():Qr(r,s,j(()=>t.is));return X(i,t,s),i}})}function ts(e){const[,t]=Dn(e,["component"]);return es(()=>e.component,t)}function ns(e){return{collections:e,parseCollection(t,n){const r=e[t];if(!r)throw new Error(`Unknown collection: ${String(t)}`);return r.parse(n)},getSchema(t){return e[t]?.schema},getCollections(){return Object.keys(e)}}}let _t;function Ft(e){return{lang:e?.lang??_t?.lang,message:e?.message,abortEarly:e?.abortEarly??_t?.abortEarly,abortPipeEarly:e?.abortPipeEarly??_t?.abortPipeEarly}}let rs;function ss(e){return rs?.get(e)}let is;function as(e){return is?.get(e)}let os;function ls(e,t){return os?.get(e)?.get(t)}function qn(e){const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function se(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,a=s?.expected??e.expects??null,o=s?.received??qn(i),l={kind:e.kind,type:e.type,input:i,expected:a,received:o,message:`Invalid ${t}: ${a?`Expected ${a} but r`:"R"}eceived ${o}`,requirement:e.requirement,path:s?.path,issues:s?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",f=s?.message??e.message??ls(e.reference,l.lang)??(c?as(l.lang):null)??r.message??ss(l.lang);f!==void 0&&(l.message=typeof f=="function"?f(l):f),c&&(n.typed=!1),n.issues?n.issues.push(l):n.issues=[l]}function we(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Ft())}}}function cs(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}const us=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])$/u;function Kn(e){return{kind:"validation",type:"iso_date",reference:Kn,async:!1,expects:null,requirement:us,message:e,"~run"(t,n){return t.typed&&!this.requirement.test(t.value)&&se(this,"date",t,n),t}}}function Lt(e,t){return{kind:"validation",type:"max_length",reference:Lt,async:!1,expects:`<=${e}`,requirement:e,message:t,"~run"(n,r){return n.typed&&n.value.length>this.requirement&&se(this,"length",n,r,{received:`${n.value.length}`}),n}}}function W(e){return{kind:"metadata",type:"metadata",reference:W,metadata:e}}function Nt(e,t){return{kind:"validation",type:"min_length",reference:Nt,async:!1,expects:`>=${e}`,requirement:e,message:t,"~run"(n,r){return n.typed&&n.value.length<this.requirement&&se(this,"length",n,r,{received:`${n.value.length}`}),n}}}function Gn(e,t){return{kind:"validation",type:"regex",reference:Gn,async:!1,expects:`${e}`,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement.test(n.value)&&se(this,"format",n,r),n}}}function fs(e,t,n){return typeof e.fallback=="function"?e.fallback(t,n):e.fallback}function Qt(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Dt(e,t){return{kind:"schema",type:"array",reference:Dt,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return we(this)},"~run"(n,r){const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];for(let i=0;i<s.length;i++){const a=s[i],o=this.item["~run"]({value:a},r);if(o.issues){const l={type:"array",origin:"value",input:s,key:i,value:a};for(const c of o.issues)c.path?c.path.unshift(l):c.path=[l],n.issues?.push(c);if(n.issues||(n.issues=o.issues),r.abortEarly){n.typed=!1;break}}o.typed||(n.typed=!1),n.value.push(o.value)}}else se(this,"type",n,r);return n}}}function zn(e){return{kind:"schema",type:"boolean",reference:zn,expects:"boolean",async:!1,message:e,get"~standard"(){return we(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:se(this,"type",t,n),t}}}function ge(e,t){return{kind:"schema",type:"object",reference:ge,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return we(this)},"~run"(n,r){const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const i in this.entries){const a=this.entries[i];if(i in s||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const o=i in s?s[i]:Qt(a),l=a["~run"]({value:o},r);if(l.issues){const c={type:"object",origin:"value",input:s,key:i,value:o};for(const f of l.issues)f.path?f.path.unshift(c):f.path=[c],n.issues?.push(f);if(n.issues||(n.issues=l.issues),r.abortEarly){n.typed=!1;break}}l.typed||(n.typed=!1),n.value[i]=l.value}else if(a.fallback!==void 0)n.value[i]=fs(a);else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(se(this,"key",n,r,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:s,key:i,value:s[i]}]}),r.abortEarly))break}}else se(this,"type",n,r);return n}}}function me(e,t){return{kind:"schema",type:"optional",reference:me,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return we(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Qt(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Hn(e,t){return{kind:"schema",type:"picklist",reference:Hn,expects:cs(e.map(qn),"|"),async:!1,options:e,message:t,get"~standard"(){return we(this)},"~run"(n,r){return this.options.includes(n.value)?n.typed=!0:se(this,"type",n,r),n}}}function te(e){return{kind:"schema",type:"string",reference:te,expects:"string",async:!1,message:e,get"~standard"(){return we(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:se(this,"type",t,n),t}}}function Z(...e){return{...e[0],pipe:e,get"~standard"(){return we(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Rt(e,t,n){const r=e["~run"]({value:t},Ft(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}async function ds(e,t,n){const r=await e["~run"]({value:t},Ft(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}function F(e){return{"~plasticine":e}}function Ae(e){const t=Z(te(),W(F({ui:"text",label:e?.label,placeholder:e?.placeholder})));return e?.minLength!==void 0&&e?.maxLength!==void 0?Z(te(),Nt(e.minLength),Lt(e.maxLength),W(F({ui:"text",label:e?.label,placeholder:e?.placeholder}))):e?.minLength!==void 0?Z(te(),Nt(e.minLength),W(F({ui:"text",label:e?.label,placeholder:e?.placeholder}))):e?.maxLength!==void 0?Z(te(),Lt(e.maxLength),W(F({ui:"text",label:e?.label,placeholder:e?.placeholder}))):t}function hs(e){return Z(te(),W(F({ui:"textarea",label:e?.label,placeholder:e?.placeholder})))}function xt(e){return Z(te(),W(F({ui:"markdown",label:e?.label,placeholder:e?.placeholder})))}function gs(e){return Z(zn(),W(F({ui:"boolean",label:e?.label,description:e?.description})))}function ms(e){return Z(te(),Kn(),W(F({ui:"date",label:e?.label})))}function nt(e){return Z(te(),Gn(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Must be a valid slug (lowercase, hyphens only)"),W(F({ui:"slug",label:e?.label,placeholder:e?.placeholder||"my-slug"})))}function At(e){return Z(te(),W(F({ui:"image",label:e?.label,accept:e?.accept||"image/*",path:e?.path})))}function ps(e,t){return Z(Hn(e),W(F({ui:"select",label:t?.label,options:e})))}function ys(e,t){return Z(te(),W(F({ui:"reference",label:t?.label,collection:e})))}class Wn extends Error{issues;constructor(t){super("Schema validation failed across all versions"),this.issues=t}}function Pt(e){return{schema:e,parse(t){const n=Rt(e,t);if(n.success)return n.output;throw new Wn([[n.issues[0],...n.issues.slice(1)]])},version(t,n){return Jn([{schema:e,transform:n}],t)}}}function Jn(e,t){return{schema:t,parse(n){const r=Rt(t,n);if(r.success)return r.output;const s=[];let i=!1;for(const a of e){const o=Rt(a.schema,n);if(s.push({...a,...o}),o.success){i=!0;break}}if(i)return s.toReversed().reduce((a,{transform:o})=>o(a),n);throw new Wn(s.map(({issues:a})=>a).filter(a=>a!==void 0))},version(n,r){return Jn([{schema:t,transform:r},...e],n)}}}function en(e){return"entries"in e&&typeof e.entries=="object"?e.entries:"wrapped"in e&&e.wrapped?en(e.wrapped):null}function Ie(e){if("pipe"in e&&Array.isArray(e.pipe)){for(const t of e.pipe)if(t&&typeof t=="object"&&"type"in t&&t.type==="metadata"){const n=t.metadata;return n&&typeof n=="object"&&"~plasticine"in n?n["~plasticine"]:n||{}}}return"wrapped"in e&&e.wrapped?Ie(e.wrapped):{}}function bs(e,t){const n=e.getCollections(),r={};for(const s of n){const i={async list(){return t.listItems(s)},async get(a){const o=await t.getItem(s,a);return e.parseCollection(s,o)},async getAll(){const a=await t.listItems(s);return await Promise.all(a.map(async l=>{const c=await t.getItem(s,l),f=e.parseCollection(s,c);return{id:l,data:f}}))},async has(a){return t.hasItem(s,a)}};r[s]=i}return r}function ws(e){const{owner:t,repo:n,branch:r="main",contentPath:s="content"}=e,i=`https://raw.githubusercontent.com/${t}/${n}/${r}/${s}`,a=`https://api.github.com/repos/${t}/${n}/contents/${s}`;return{async listItems(o){const l=await fetch(`${a}/${o}?ref=${r}`,{headers:{Accept:"application/vnd.github.v3+json"}});if(!l.ok){if(l.status===404)return[];throw new Error(`Failed to list items: ${l.statusText}`)}return(await l.json()).filter(f=>f.type==="file"&&f.name.endsWith(".json")).map(f=>f.name.replace(/\.json$/,""))},async getItem(o,l){const c=await fetch(`${i}/${o}/${l}.json`);if(!c.ok)throw new Error(`Failed to get item ${o}/${l}: ${c.statusText}`);return c.json()},async hasItem(o,l){return(await fetch(`${i}/${o}/${l}.json`,{method:"HEAD"})).ok}}}function vs(e,t){return bs(e,ws(t))}const Pe="https://api.github.com";class $s{token;config;constructor(t,n){this.token=t,this.config={branch:"main",contentPath:"content",...n}}get headers(){return{Accept:"application/vnd.github+json",Authorization:`Bearer ${this.token}`,"X-GitHub-Api-Version":"2022-11-28"}}buildPath(t,n){const r=[this.config.contentPath,t];return n&&r.push(n),r.filter(Boolean).join("/")}async listCollection(t){return this.listFolder(this.buildPath(t))}async listFolder(t,n=!1){const r=`${Pe}/repos/${this.config.owner}/${this.config.repo}/contents/${t}?ref=${this.config.branch}`,s=await fetch(r,{headers:this.headers});if(s.status===404)return[];if(!s.ok)throw new Error(`Failed to list folder: ${s.statusText}`);const i=await s.json(),a=Array.isArray(i)?i:[];if(n){const o=a.filter(l=>l.type==="dir");for(const l of o){const c=await this.listFolder(l.path,!0);a.push(...c)}}return a}async getFile(t,n){const r=this.buildPath(t,n),s=`${Pe}/repos/${this.config.owner}/${this.config.repo}/contents/${r}?ref=${this.config.branch}`,i=await fetch(s,{headers:this.headers});if(!i.ok)throw new Error(`Failed to get file: ${i.statusText}`);return i.json()}async getJSON(t,n){const r=await this.getFile(t,n),s=atob(r.content);return{data:JSON.parse(s),sha:r.sha}}async saveFile(t,n,r,s,i){const a=this.buildPath(t,n),o=`${Pe}/repos/${this.config.owner}/${this.config.repo}/contents/${a}`,l=3;let c=i,f=null;for(let u=0;u<l;u++){if(u>0&&(await new Promise(g=>setTimeout(g,1e3*u)),c))try{c=(await this.getFile(t,n)).sha}catch{c=void 0}const h={message:s,content:btoa(r),branch:this.config.branch};c&&(h.sha=c);const m=await fetch(o,{method:"PUT",headers:this.headers,body:JSON.stringify(h)});if(m.ok)return{sha:(await m.json()).content.sha};const d=await m.json();if(m.status===409&&u<l-1){f=new Error(d.message||m.statusText);continue}throw new Error(`Failed to save file: ${d.message||m.statusText}`)}throw f||new Error("Failed to save file after retries")}async saveJSON(t,n,r,s,i){const a=JSON.stringify(r,null,2);return this.saveFile(t,n,a,s,i)}async uploadFile(t,n="uploads"){const r=Date.now(),s=t.name.replace(/[^a-zA-Z0-9.-]/g,"_"),i=`${r}-${s}`,a=`${this.config.contentPath}/${n}/${i}`,o=await this.fileToBase64(t),l=`${Pe}/repos/${this.config.owner}/${this.config.repo}/contents/${a}`,c=3;let f=null;for(let u=0;u<c;u++){u>0&&await new Promise(d=>setTimeout(d,1e3*u));const h=await fetch(l,{method:"PUT",headers:this.headers,body:JSON.stringify({message:`cms: Upload ${t.name}`,content:o,branch:this.config.branch})});if(h.ok){const d=await h.json();return{url:`https://raw.githubusercontent.com/${this.config.owner}/${this.config.repo}/${this.config.branch}/${a}`,sha:d.content.sha}}const m=await h.json();if(h.status===409&&u<c-1){f=new Error(m.message||h.statusText);continue}throw new Error(`Failed to upload file: ${m.message||h.statusText}`)}throw f||new Error("Failed to upload file after retries")}fileToBase64(t){return new Promise((n,r)=>{const s=new FileReader;s.onload=()=>{const a=s.result.split(",")[1];n(a)},s.onerror=r,s.readAsDataURL(t)})}async deleteFile(t,n,r,s){const i=this.buildPath(t,n);await this.deleteFileByPath(i,r,s)}async deleteFileByPath(t,n,r){const s=`${Pe}/repos/${this.config.owner}/${this.config.repo}/contents/${t}`,i=await fetch(s,{method:"DELETE",headers:this.headers,body:JSON.stringify({message:n,sha:r,branch:this.config.branch})});if(!i.ok){const a=await i.json();throw new Error(`Failed to delete file: ${a.message||i.statusText}`)}}async ensureContentDirectory(){const t=`${Pe}/repos/${this.config.owner}/${this.config.repo}/contents/${this.config.contentPath}?ref=${this.config.branch}`;(await fetch(t,{headers:this.headers})).status===404&&await this.saveFile("",".gitkeep","","Initialize content directory")}}function ks(e){function t(n){const r=new $s(n.token,n),s=n.branch||"main",i=n.contentPath||"content";return{content:{async listCollection(c){const f=await r.listCollection(c),u=[];for(const h of f)if(h.type==="file"&&h.name.endsWith(".json"))try{const{data:m,sha:d}=await r.getJSON(c,h.name);u.push({id:h.name.replace(".json",""),sha:d,data:m})}catch(m){console.error(`Failed to load ${h.name}:`,m)}return u},async getItem(c,f){const{data:u,sha:h}=await r.getJSON(c,`${f}.json`);return{id:f,sha:h,data:u}},async saveItem(c,f,u,h){const m=`${f}.json`,d=h?`cms: Update ${c}/${m}`:`cms: Create ${c}/${m}`;return r.saveJSON(c,m,u,d,h)},async deleteItem(c,f,u){const h=`${f}.json`,m=`cms: Delete ${c}/${h}`;await r.deleteFile(c,h,m,u)}},media:{async listMedia(){const c=`${i}/uploads`;return(await r.listFolder(c,!0)).filter(u=>u.type==="file").map(u=>({name:u.name,path:u.path,sha:u.sha,size:u.size,url:`https://raw.githubusercontent.com/${n.owner}/${n.repo}/${s}/${u.path}`}))},async uploadFile(c,f){const u=f?`uploads/${f}`:"uploads";return r.uploadFile(c,u)},async deleteFile(c,f){await r.deleteFileByPath(c,`cms: Delete media ${c}`,f)}},config:{async readFile(c){const f=`https://api.github.com/repos/${n.owner}/${n.repo}/contents/${c}?ref=${s}`,u=await fetch(f,{headers:{Accept:"application/vnd.github+json",Authorization:`Bearer ${n.token}`}});if(!u.ok)throw new Error(`Failed to read file: ${u.statusText}`);const h=await u.json();return{content:atob(h.content),sha:h.sha}},async writeFile(c,f,u){const h=`https://api.github.com/repos/${n.owner}/${n.repo}/contents/${c}`,m=await fetch(h,{method:"PUT",headers:{Accept:"application/vnd.github+json",Authorization:`Bearer ${n.token}`},body:JSON.stringify({message:`cms: Update ${c}`,content:btoa(f),branch:s,...u?{sha:u}:{}})});if(!m.ok){const g=await m.json();throw new Error(`Failed to write file: ${g.message||m.statusText}`)}return{sha:(await m.json()).content.sha}}}}}return{config:e,createBackend:n=>t({...e,token:n})}}var _s=k("<div class=auth-error>"),xs=k('<div class=auth><div class=auth-container><h1 class=auth-title>Plasticine CMS</h1><p class=auth-subtitle>Git-based content management</p><form class=token-form><p class=token-instructions>Create a <a href="https://github.com/settings/tokens/new?scopes=repo&amp;description=Plasticine%20CMS"target=_blank rel="noopener noreferrer">Personal Access Token</a> with <code>repo</code> scope.</p><input type=password class=input placeholder=ghp_xxxxxxxxxxxx><button type=submit class="btn btn-primary">');const As="https://api.github.com",Ct="plasticine_token";async function vn(e){const t=await fetch(`${As}/user`,{headers:{Accept:"application/vnd.github+json",Authorization:`Bearer ${e}`,"X-GitHub-Api-Version":"2022-11-28"}});if(!t.ok)throw new Error("Invalid token or API error");return t.json()}function Ps(e){const t={get:()=>localStorage.getItem(Ct),set:n=>localStorage.setItem(Ct,n),remove:()=>localStorage.removeItem(Ct)};return{async checkAuth(){const n=t.get();if(!n)return null;try{return{user:await vn(n),token:n}}catch{return t.remove(),null}},async logout(){t.remove()},LoginScreen(n){const[r,s]=N(""),[i,a]=N(!1),[o,l]=N(null),c=async f=>{f.preventDefault();const u=r().trim();if(u){a(!0),l(null);try{const h=await vn(u);t.set(u),n.onSuccess({user:h,token:u})}catch(h){l(h instanceof Error?h.message:"Authentication failed")}finally{a(!1)}}};return(()=>{var f=xs(),u=f.firstChild,h=u.firstChild,m=h.nextSibling,d=m.nextSibling,g=d.firstChild,p=g.nextSibling,v=p.nextSibling;return $(u,b(I,{get when(){return o()},get children(){var y=_s();return $(y,o),y}}),d),d.addEventListener("submit",c),p.$$input=y=>s(y.currentTarget.value),$(v,()=>i()?"Verifying...":"Login"),R(y=>{var _=i(),P=i()||!r().trim();return _!==y.e&&(p.disabled=y.e=_),P!==y.t&&(v.disabled=y.t=P),y},{e:void 0,t:void 0}),R(()=>p.value=r()),f})()}}}de(["input"]);function Xn(){let e=new Set;function t(s){return e.add(s),()=>e.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const a={to:s,options:i,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const o of e)o.listener({...a,from:o.location,retry:l=>{l&&(n=!0),o.navigate(s,{...i,resolve:!1})}});return!a.defaultPrevented}return{subscribe:t,confirm:r}}let Mt;function tn(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Mt=window.history.state._depth}tn();function Cs(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function Es(e,t){let n=!1;return()=>{const r=Mt;tn();const s=r==null?null:Mt-r;if(n){n=!1;return}s&&t(s)?(n=!0,window.history.go(-s)):e()}}const Ss=/^(?:[a-z0-9]+:)?\/\//i,Os=/^\/+|(\/)\/+$/g,nn="http://sr";function Re(e,t=!1){const n=e.replace(Os,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function st(e,t,n){if(Ss.test(t))return;const r=Re(e),s=n&&Re(n);let i="";return!s||t.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+Re(t,!i)}function js(e,t){if(e==null)throw new Error(t);return e}function Ts(e,t){return Re(e).replace(/\/*(\*.*)?$/g,"")+Re(t)}function Yn(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function Is(e,t,n){const[r,s]=e.split("/*",2),i=r.split("/").filter(Boolean),a=i.length;return o=>{const l=o.split("/").filter(Boolean),c=l.length-a;if(c<0||c>0&&s===void 0&&!t)return null;const f={path:a?"":"/",params:{}},u=h=>n===void 0?void 0:n[h];for(let h=0;h<a;h++){const m=i[h],d=m[0]===":",g=d?l[h]:l[h].toLowerCase(),p=d?m.slice(1):m.toLowerCase();if(d&&Et(g,u(p)))f.params[p]=g;else if(d||!Et(g,p))return null;f.path+=`/${g}`}if(s){const h=c?l.slice(-c).join("/"):"";if(Et(h,u(s)))f.params[s]=h;else return null}return f}}function Et(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Ls(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Zn(e){const t=new Map,n=He();return new Proxy({},{get(r,s){return t.has(s)||Jt(n,()=>t.set(s,x(()=>e()[s]))),t.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())},has(r,s){return s in e()}})}function Ns(e,t){const n=new URLSearchParams(e);Object.entries(t).forEach(([s,i])=>{i==null||i===""||i instanceof Array&&!i.length?n.delete(s):i instanceof Array?(n.delete(s),i.forEach(a=>{n.append(s,String(a))})):n.set(s,String(i))});const r=n.toString();return r?`?${r}`:""}function Fn(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const s=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=t[1]),r=r.slice(t[0].length);return Fn(r).reduce((i,a)=>[...i,...s.map(o=>o+a)],[])}const Ds=100,Qn=We(),er=We(),yt=()=>js(Je(Qn),"<A> and 'use' router primitives can be only used inside a Route."),rn=()=>yt().navigatorFactory(),Rs=()=>yt().location,sn=()=>{const e=Rs(),t=rn(),n=(r,s)=>{const i=j(()=>Ns(e.search,r)+e.hash);t(i,{scroll:!1,resolve:!1,...s})};return[e.query,n]};function Ms(e,t=""){const{component:n,preload:r,load:s,children:i,info:a}=e,o=!i||Array.isArray(i)&&!i.length,l={key:e,component:n,preload:r||s,info:a};return tr(e.path).reduce((c,f)=>{for(const u of Fn(f)){const h=Ts(t,u);let m=o?h:h.split("/*",1)[0];m=m.split("/").map(d=>d.startsWith(":")||d.startsWith("*")?d:encodeURIComponent(d)).join("/"),c.push({...l,originalPath:f,pattern:m,matcher:Is(m,!o,e.matchFilters)})}return c},[])}function Us(e,t=0){return{routes:e,score:Ls(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let s=e.length-1;s>=0;s--){const i=e[s],a=i.matcher(n);if(!a)return null;r.unshift({...a,route:i})}return r}}}function tr(e){return Array.isArray(e)?e:[e]}function nr(e,t="",n=[],r=[]){const s=tr(e);for(let i=0,a=s.length;i<a;i++){const o=s[i];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const l=Ms(o,t);for(const c of l){n.push(c);const f=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!f)nr(o.children,c.pattern,n,r);else{const u=Us([...n],r.length);r.push(u)}n.pop()}}}return n.length?r:r.sort((i,a)=>a.score-i.score)}function St(e,t){for(let n=0,r=e.length;n<r;n++){const s=e[n].matcher(t);if(s)return s}return[]}function Bs(e,t,n){const r=new URL(nn),s=x(f=>{const u=e();try{return new URL(u,r)}catch{return console.error(`Invalid path ${u}`),f}},r,{equals:(f,u)=>f.href===u.href}),i=x(()=>s().pathname),a=x(()=>s().search,!0),o=x(()=>s().hash),l=()=>"",c=Wt(a,()=>Yn(s()));return{get pathname(){return i()},get search(){return a()},get hash(){return o()},get state(){return t()},get key(){return l()},query:n?n(c):Zn(c)}}let pe;function rr(){return pe}let Se=!1;function Vs(){return Se}function $n(e){Se=e}function qs(e,t,n,r={}){const{signal:[s,i],utils:a={}}=e,o=a.parsePath||(A=>A),l=a.renderPath||(A=>A),c=a.beforeLeave||Xn(),f=st("",r.base||"");if(f===void 0)throw new Error(`${f} is not a valid base path`);f&&!s().value&&i({value:f,replace:!0,scroll:!1});const[u,h]=N(!1);let m;const d=(A,S)=>{S.value===g()&&S.state===v()||(m===void 0&&h(!0),pe=A,m=S,De(()=>{m===S&&(p(m.value),y(m.state),T[1](z=>z.filter(ke=>ke.pending)))}).finally(()=>{m===S&&ae(()=>{pe=void 0,A==="navigate"&&D(m),h(!1),m=void 0})}))},[g,p]=N(s().value),[v,y]=N(s().state),_=Bs(g,v,a.queryWrapper),P=[],T=N([]),M=x(()=>typeof r.transformUrl=="function"?St(t(),r.transformUrl(_.pathname)):St(t(),_.pathname)),oe=()=>{const A=M(),S={};for(let z=0;z<A.length;z++)Object.assign(S,A[z].params);return S},he=a.paramsWrapper?a.paramsWrapper(oe,t):Zn(oe),$e={pattern:f,path:()=>f,outlet:()=>null,resolvePath(A){return st(f,A)}};return R(Wt(s,A=>d("native",A),{defer:!0})),{base:$e,location:_,params:he,isRouting:u,renderPath:l,parsePath:o,navigatorFactory:L,matches:M,beforeLeave:c,preloadRoute:G,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:T};function Fe(A,S,z){j(()=>{if(typeof S=="number"){S&&(a.go?a.go(S):console.warn("Router integration does not support relative routing"));return}const ke=!S||S[0]==="?",{replace:wt,resolve:_e,scroll:vt,state:Le}={replace:!1,resolve:!ke,scroll:!0,...z},Qe=_e?A.resolvePath(S):st(ke&&_.pathname||"",S);if(Qe===void 0)throw new Error(`Path '${S}' is not a routable path`);if(P.length>=Ds)throw new Error("Too many redirects");const cn=g();(Qe!==cn||Le!==v())&&(Vn||c.confirm(Qe,z)&&(P.push({value:cn,replace:wt,scroll:vt,state:v()}),d("navigate",{value:Qe,state:Le})))})}function L(A){return A=A||Je(er)||$e,(S,z)=>Fe(A,S,z)}function D(A){const S=P[0];S&&(i({...A,replace:S.replace,scroll:S.scroll}),P.length=0)}function G(A,S){const z=St(t(),A.pathname),ke=pe;pe="preload";for(let wt in z){const{route:_e,params:vt}=z[wt];_e.component&&_e.component.preload&&_e.component.preload();const{preload:Le}=_e;Se=!0,S&&Le&&Jt(n(),()=>Le({params:vt,location:{pathname:A.pathname,search:A.search,hash:A.hash,query:Yn(A),state:null,key:""},intent:"preload"})),Se=!1}pe=ke}}function Ks(e,t,n,r){const{base:s,location:i,params:a}=e,{pattern:o,component:l,preload:c}=r().route,f=x(()=>r().path);l&&l.preload&&l.preload(),Se=!0;const u=c?c({params:a,location:i,intent:pe||"initial"}):void 0;return Se=!1,{parent:t,pattern:o,path:f,outlet:()=>l?b(l,{params:a,location:i,data:u,get children(){return n()}}):n(),resolvePath(m){return st(s.path(),m,f())}}}const Gs=e=>t=>{const{base:n}=t,r=mt(()=>t.children),s=x(()=>nr(r(),t.base||""));let i;const a=qs(e,s,()=>i,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(a),b(Qn.Provider,{value:a,get children(){return b(zs,{routerState:a,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[H(()=>(i=He())&&null),b(Hs,{routerState:a,get branches(){return s()}})]}})}})};function zs(e){const t=e.routerState.location,n=e.routerState.params,r=x(()=>e.preload&&j(()=>{$n(!0),e.preload({params:n,location:t,intent:rr()||"initial"}),$n(!1)}));return b(I,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:s=>b(s,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function Hs(e){const t=[];let n;const r=x(Wt(e.routerState.matches,(s,i,a)=>{let o=i&&s.length===i.length;const l=[];for(let c=0,f=s.length;c<f;c++){const u=i&&i[c],h=s[c];a&&u&&h.route.key===u.route.key?l[c]=a[c]:(o=!1,t[c]&&t[c](),le(m=>{t[c]=m,l[c]=Ks(e.routerState,l[c-1]||e.routerState.base,kn(()=>r()[c+1]),()=>{const d=e.routerState.matches();return d[c]??d[0]})}))}return t.splice(s.length).forEach(c=>c()),a&&o?a:(n=l[0],l)}));return kn(()=>r()&&n)()}const kn=e=>()=>b(I,{get when(){return e()},keyed:!0,children:t=>b(er.Provider,{value:t,get children(){return t.outlet()}})}),Ut=e=>{const t=mt(()=>e.children);return K(e,{get children(){return t()}})};function Ws([e,t],n,r){return[e,r?s=>t(r(s)):t]}function Js(e){let t=!1;const n=s=>typeof s=="string"?{value:s}:s,r=Ws(N(n(e.get()),{equals:(s,i)=>s.value===i.value&&s.state===i.state}),void 0,s=>(!t&&e.set(s),E.registry&&!E.done&&(E.done=!0),s));return e.init&&fe(e.init((s=e.get())=>{t=!0,r[1](n(s)),t=!1})),Gs({signal:r,create:e.create,utils:e.utils})}function Xs(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Ys(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Zs="Location",Fs=5e3,Qs=18e4;let Ke=new Map;setInterval(()=>{const e=Date.now();for(let[t,n]of Ke.entries())!n[4].count&&e-n[0]>Qs&&Ke.delete(t)},3e5);function Ye(){return Ke}function ei(e,t=!0){return De(()=>{const n=Date.now();sr(e,r=>{t&&(r[0]=0),r[4][1](n)})})}function sr(e,t){e&&!Array.isArray(e)&&(e=[e]);for(let n of Ke.keys())(e===void 0||ti(n,e))&&t(Ke.get(n))}function Ze(e,t){e.GET&&(e=e.GET);const n=((...r)=>{const s=Ye(),i=rr(),a=Vs(),l=He()?rn():void 0,c=Date.now(),f=t+Bt(r);let u=s.get(f),h;if(at()&&!Vn&&(h=!0,fe(()=>u[4].count--)),u&&u[0]&&(i==="native"||u[4].count||Date.now()-u[0]<Fs)){h&&(u[4].count++,u[4][0]()),u[3]==="preload"&&i!=="preload"&&(u[0]=c);let g=u[1];return i!=="preload"&&(g="then"in u[1]?u[1].then(d(!1),d(!0)):d(!1)(u[1]),i==="navigate"&&De(()=>u[4][1](u[0]))),a&&"then"in g&&g.catch(()=>{}),g}let m;return E.has&&E.has(f)?(m=E.load(f),delete globalThis._$HY.r[f]):m=e(...r),u?(u[0]=c,u[1]=m,u[3]=i,i==="navigate"&&De(()=>u[4][1](u[0]))):(s.set(f,u=[c,m,,i,N(c)]),u[4].count=0),h&&(u[4].count++,u[4][0]()),i!=="preload"&&(m="then"in m?m.then(d(!1),d(!0)):d(!1)(m)),a&&"then"in m&&m.catch(()=>{}),m;function d(g){return async p=>{if(p instanceof Response){const v=p.headers.get(Zs);if(v!==null){l&&v.startsWith("/")?De(()=>{l(v,{replace:!0})}):window.location.href=v;return}p.customBody&&(p=await p.customBody())}if(g)throw p;return u[2]=p,p}}});return n.keyFor=(...r)=>t+Bt(r),n.key=t,n}Ze.get=e=>Ye().get(e)[2];Ze.set=(e,t)=>{const n=Ye(),r=Date.now();let s=n.get(e);s?(s[0]=r,s[1]=Promise.resolve(t),s[2]=t,s[3]="preload"):(n.set(e,s=[r,Promise.resolve(t),t,"preload",N(r)]),s[4].count=0)};Ze.delete=e=>Ye().delete(e);Ze.clear=()=>Ye().clear();function ti(e,t){for(let n of t)if(n&&e.startsWith(n))return!0;return!1}function Bt(e){return JSON.stringify(e,(t,n)=>ni(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ni(e){let t;return e!=null&&typeof e=="object"&&(!(t=Object.getPrototypeOf(e))||t===Object.prototype)}const Vt=new Map;function ri(e,t){const n=yt(),r=x(()=>n.submissions[0]().filter(s=>s.url===e.base&&!0));return new Proxy([],{get(s,i){return i===Ue?r():i==="pending"?r().some(a=>!a.result):r()[i]},has(s,i){return i in r()}})}function si(e,t){const n=ri(e);return new Proxy({},{get(r,s){return n.length===0&&s==="clear"||s==="retry"?()=>{}:n[n.length-1]?.[s]}})}function ii(e){const t=yt();return(...n)=>e.apply({r:t},n)}function bt(e,t={}){function n(...i){const a=this.r,o=this.f,l=(a.singleFlight&&e.withOptions?e.withOptions({headers:{"X-Single-Flight":"true"}}):e)(...i),[c,f]=N();let u;function h(m){return async d=>{const g=await oi(d,m,a.navigatorFactory());let p=null;if(r.onComplete?.({...u,result:g?.data,error:g?.error,pending:!1,retry(){return p=u.retry()}}),p)return p;if(!g)return u.clear();if(f(g),g.error&&!o)throw g.error;return g.data}}return a.submissions[1](m=>[...m,u={input:i,url:s,get result(){return c()?.data},get error(){return c()?.error},get pending(){return!c()},clear(){a.submissions[1](d=>d.filter(g=>g!==u))},retry(){return f(void 0),e(...i).then(h(),h(!0))}}]),l.then(h(),h(!0))}const r=typeof t=="string"?{name:t}:t,s=e.url||r.name&&`https://action/${r.name}`||`https://action/${ai(e.toString())}`;return n.base=s,ir(n,s)}function ir(e,t){return e.toString=()=>{if(!t)throw new Error("Client Actions need explicit names if server rendered");return t},e.with=function(...n){const r=function(...i){return e.call(this,...n,...i)};r.base=e.base;const s=new URL(t,nn);return s.searchParams.set("args",Bt(n)),ir(r,(s.origin==="https://action"?s.origin:"")+s.pathname+s.search)},e.url=t,Vt.set(t,e),He()&&fe(()=>Vt.delete(t)),e}const ai=e=>e.split("").reduce((t,n)=>(t<<5)-t+n.charCodeAt(0)|0,0);async function oi(e,t,n){let r,s,i,a;if(e instanceof Response){if(e.headers.has("X-Revalidate")&&(i=e.headers.get("X-Revalidate").split(",")),e.customBody&&(r=s=await e.customBody(),e.headers.has("X-Single-Flight")&&(r=r._$value,delete s._$value,a=Object.keys(s))),e.headers.has("Location")){const o=e.headers.get("Location")||"/";o.startsWith("http")?window.location.href=o:n(o)}}else{if(t)return{error:e};r=e}return sr(i,o=>o[0]=0),a&&a.forEach(o=>Ze.set(o,s[o])),await ei(i,!1),r!=null?{data:r}:void 0}function li(e=!0,t=!1,n="/_server",r){return s=>{const i=s.base.path(),a=s.navigatorFactory(s.base);let o,l;function c(g){return g.namespaceURI==="http://www.w3.org/2000/svg"}function f(g){if(g.defaultPrevented||g.button!==0||g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)return;const p=g.composedPath().find(M=>M instanceof Node&&M.nodeName.toUpperCase()==="A");if(!p||t&&!p.hasAttribute("link"))return;const v=c(p),y=v?p.href.baseVal:p.href;if((v?p.target.baseVal:p.target)||!y&&!p.hasAttribute("state"))return;const P=(p.getAttribute("rel")||"").split(/\s+/);if(p.hasAttribute("download")||P&&P.includes("external"))return;const T=v?new URL(y,document.baseURI):new URL(y);if(!(T.origin!==window.location.origin||i&&T.pathname&&!T.pathname.toLowerCase().startsWith(i.toLowerCase())))return[p,T]}function u(g){const p=f(g);if(!p)return;const[v,y]=p,_=s.parsePath(y.pathname+y.search+y.hash),P=v.getAttribute("state");g.preventDefault(),a(_,{resolve:!1,replace:v.hasAttribute("replace"),scroll:!v.hasAttribute("noscroll"),state:P?JSON.parse(P):void 0})}function h(g){const p=f(g);if(!p)return;const[v,y]=p;r&&(y.pathname=r(y.pathname)),s.preloadRoute(y,v.getAttribute("preload")!=="false")}function m(g){clearTimeout(o);const p=f(g);if(!p)return l=null;const[v,y]=p;l!==v&&(r&&(y.pathname=r(y.pathname)),o=setTimeout(()=>{s.preloadRoute(y,v.getAttribute("preload")!=="false"),l=v},20))}function d(g){if(g.defaultPrevented)return;let p=g.submitter&&g.submitter.hasAttribute("formaction")?g.submitter.getAttribute("formaction"):g.target.getAttribute("action");if(!p)return;if(!p.startsWith("https://action/")){const y=new URL(p,nn);if(p=s.parsePath(y.pathname+y.search),!p.startsWith(n))return}if(g.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const v=Vt.get(p);if(v){g.preventDefault();const y=new FormData(g.target,g.submitter);v.call({r:s,f:g.target},g.target.enctype==="multipart/form-data"?y:new URLSearchParams(y))}}de(["click","submit"]),document.addEventListener("click",u),e&&(document.addEventListener("mousemove",m,{passive:!0}),document.addEventListener("focusin",h,{passive:!0}),document.addEventListener("touchstart",h,{passive:!0})),document.addEventListener("submit",d),fe(()=>{document.removeEventListener("click",u),e&&(document.removeEventListener("mousemove",m),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",d)})}}function ar(e){const t=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,s=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:s}},n=Xn();return Js({get:t,set({value:r,replace:s,scroll:i,state:a}){s?window.history.replaceState(Cs(a),"",r):window.history.pushState(a,"",r),Ys(decodeURIComponent(window.location.hash.slice(1)),i),tn()},init:r=>Xs(window,"popstate",Es(r,s=>{if(s)return!n.confirm(s);{const i=t();return!n.confirm(i.value,{state:i.state})}})),create:li(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}const ut=Symbol("store-raw"),Ee=Symbol("store-node"),ie=Symbol("store-has"),or=Symbol("store-self");function lr(e){let t=e[ne];if(!t&&(Object.defineProperty(e,ne,{value:t=new Proxy(e,fi)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let s=0,i=n.length;s<i;s++){const a=n[s];r[a].get&&Object.defineProperty(e,a,{enumerable:r[a].enumerable,get:r[a].get.bind(t)})}}return t}function Oe(e){let t;return e!=null&&typeof e=="object"&&(e[ne]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function je(e,t=new Set){let n,r,s,i;if(n=e!=null&&e[ut])return n;if(!Oe(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,o=e.length;a<o;a++)s=e[a],(r=je(s,t))!==s&&(e[a]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let l=0,c=a.length;l<c;l++)i=a[l],!o[i].get&&(s=e[i],(r=je(s,t))!==s&&(e[i]=r))}return e}function ft(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Ge(e,t,n){if(e[t])return e[t];const[r,s]=N(n,{equals:!1,internal:!0});return r.$=s,e[t]=r}function ci(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===ne||t===Ee||(delete n.value,delete n.writable,n.get=()=>e[ne][t]),n}function cr(e){at()&&Ge(ft(e,Ee),or)()}function ui(e){return cr(e),Reflect.ownKeys(e)}const fi={get(e,t,n){if(t===ut)return e;if(t===ne)return n;if(t===Ue)return cr(e),n;const r=ft(e,Ee),s=r[t];let i=s?s():e[t];if(t===Ee||t===ie||t==="__proto__")return i;if(!s){const a=Object.getOwnPropertyDescriptor(e,t);at()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(i=Ge(r,t,i)())}return Oe(i)?lr(i):i},has(e,t){return t===ut||t===ne||t===Ue||t===Ee||t===ie||t==="__proto__"?!0:(at()&&Ge(ft(e,ie),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:ui,getOwnPropertyDescriptor:ci};function Te(e,t,n,r=!1){if(!r&&e[t]===n)return;const s=e[t],i=e.length;n===void 0?(delete e[t],e[ie]&&e[ie][t]&&s!==void 0&&e[ie][t].$()):(e[t]=n,e[ie]&&e[ie][t]&&s===void 0&&e[ie][t].$());let a=ft(e,Ee),o;if((o=Ge(a,t,s))&&o.$(()=>n),Array.isArray(e)&&e.length!==i){for(let l=e.length;l<i;l++)(o=a[l])&&o.$();(o=Ge(a,"length",i))&&o.$(e.length)}(o=a[or])&&o.$()}function ur(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const s=n[r];Te(e,s,t[s])}}function di(e,t){if(typeof t=="function"&&(t=t(e)),t=je(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const s=t[n];e[n]!==s&&Te(e,n,s)}Te(e,"length",r)}else ur(e,t)}function Ne(e,t,n=[]){let r,s=e;if(t.length>1){r=t.shift();const a=typeof r,o=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Ne(e,[r[l]].concat(t),n);return}else if(o&&a==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&Ne(e,[l].concat(t),n);return}else if(o&&a==="object"){const{from:l=0,to:c=e.length-1,by:f=1}=r;for(let u=l;u<=c;u+=f)Ne(e,[u].concat(t),n);return}else if(t.length>1){Ne(e[r],t,[r].concat(n));return}s=e[r],n=[r].concat(n)}let i=t[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=je(i),r===void 0||Oe(s)&&Oe(i)&&!Array.isArray(i)?ur(s,i):Te(e,r,i))}function hi(...[e,t]){const n=je(e||{}),r=Array.isArray(n),s=lr(n);function i(...a){ae(()=>{r&&a.length===1?di(n,a[0]):Ne(n,a)})}return[s,i]}const dt=new WeakMap,fr={get(e,t){if(t===ut)return e;const n=e[t];let r;return Oe(n)?dt.get(n)||(dt.set(n,r=new Proxy(n,fr)),r):n},set(e,t,n){return Te(e,t,je(n)),!0},deleteProperty(e,t){return Te(e,t,void 0,!0),!0}};function Y(e){return t=>{if(Oe(t)){let n;(n=dt.get(t))||dt.set(t,n=new Proxy(t,fr)),e(n)}return t}}bt(async(e,t)=>(await t.saveSchema(e),{ok:!0}),"saveSchema");const _n=bt(async(e,t,n,r)=>(await r.saveItem(e,t,n),{ok:!0}),"saveItem");bt(async(e,t,n,r)=>(await r.deleteItem(e,t,n),{ok:!0}),"deleteItem");bt(async(e,t,n,r)=>(await r.deleteMedia(e,t,n),{ok:!0}),"deleteMedia");function gi(e){const{config:t,backend:n,auth:r,schemaPath:s="plasticine/config.ts"}=e;let i=null,a;const o=t.getCollections(),[l,c]=hi({authenticated:!1,user:null,authLoading:!1,authError:null,dataLoading:!1,dataError:null,collections:Object.fromEntries(o.map(d=>[d,{items:[],loading:!1,error:null}])),media:{files:[],loading:!1,error:null},schema:{content:"",sha:null,loading:!1,saving:!1,error:null},currentView:"collections",currentCollection:null,currentItem:null}),f=d=>{const g=t.getSchema(d);if(!g)return[];const p=en(g);return p?Object.entries(p).filter(([v,y])=>{const _=Ie(y);return _.ui==="image"||_.ui==="file"}).map(([v])=>v):[]},u=d=>{const g=d.slug??d.id;return typeof g=="string"&&g?g:Date.now().toString()},h=async d=>{if(!i)throw new Error("Not authenticated");if(!t.getSchema(d))throw new Error(`Unknown collection: ${d}`);return(await i.content.listCollection(d)).map(v=>{const y=t.parseCollection(d,v.data);return{...v,filename:`${v.id}.json`,data:y}})},m={async handleAuthSuccess(d){a=d.token,i=n.createBackend(a),c(Y(g=>{g.authenticated=!0,g.user=d.user,g.authLoading=!1})),await m.loadAllData()},async logout(){await r.logout(),i=null,a=void 0,c(Y(d=>{d.authenticated=!1,d.user=null,d.dataLoading=!1,d.dataError=null;for(const g of o)d.collections[g]={items:[],loading:!1,error:null};d.media={files:[],loading:!1,error:null}}))},async loadAllData(){if(!i)throw new Error("Not authenticated");c("dataLoading",!0),c("dataError",null);try{const[d,g]=await Promise.all([Promise.all(o.map(async p=>({name:p,items:await h(p)}))),i.media.listMedia()]);c(Y(p=>{for(const{name:v,items:y}of d)p.collections[v].items=y;p.media.files=g,p.dataLoading=!1}))}catch(d){throw c(Y(g=>{g.dataLoading=!1,g.dataError=d instanceof Error?d.message:"Failed to load data"})),d}},async saveItem(d,g,p){if(!i)throw new Error("Not authenticated");if(!t.getSchema(d))throw new Error(`Unknown collection: ${d}`);const y=t.parseCollection(d,g),_=u(y),{sha:P}=await i.content.saveItem(d,_,y,p);c("collections",d,"items",Y(T=>{const M=T.findIndex(he=>he.id===_),oe={id:_,filename:`${_}.json`,sha:P,data:y};M>=0?T[M]=oe:T.push(oe)}))},async deleteItem(d,g,p){if(!i)throw new Error("Not authenticated");await i.content.deleteItem(d,g,p),c("collections",d,"items",Y(v=>{const y=v.findIndex(_=>_.id===g);y>=0&&v.splice(y,1)}))},async uploadFile(d,g){if(!i)throw new Error("Not authenticated");const{url:p,sha:v}=await i.media.uploadFile(d,g),y=p.split("/").pop()||"";return c("media","files",Y(_=>{_.push({name:y,path:y,sha:v,size:d.size,url:p})})),p},getMediaReferences(d){const g=[];for(const p of o){const v=f(p),y=l.collections[p]?.items||[];for(const _ of y)for(const P of v)_.data[P]===d&&g.push({collection:p,id:_.id,field:P})}return g},async deleteMedia(d,g,p){if(!i)throw new Error("Not authenticated");const v=m.getMediaReferences(d);for(const y of v){const _=l.collections[y.collection]?.items.find(T=>T.id===y.id);if(!_)continue;const P={..._.data,[y.field]:void 0};await m.saveItem(y.collection,P,_.sha)}await i.media.deleteFile(g,p),c("media","files",Y(y=>{const _=y.findIndex(P=>P.path===g);_>=0&&y.splice(_,1)}))},async loadSchema(){if(!i)throw new Error("Not authenticated");c("schema","loading",!0),c("schema","error",null);try{const{content:d,sha:g}=await i.config.readFile(s);c(Y(p=>{p.schema.content=d,p.schema.sha=g||null,p.schema.loading=!1}))}catch(d){throw c(Y(g=>{g.schema.loading=!1,g.schema.error=d instanceof Error?d.message:"Failed to load schema"})),d}},async saveSchema(d){if(!i)throw new Error("Not authenticated");c("schema","saving",!0),c("schema","error",null);try{const{sha:g}=await i.config.writeFile(s,d,l.schema.sha||void 0);c(Y(p=>{p.schema.content=d,p.schema.sha=g||null,p.schema.saving=!1}))}catch(g){throw c(Y(p=>{p.schema.saving=!1,p.schema.error=g instanceof Error?g.message:"Failed to save schema"})),g}},setCurrentView(d){c("currentView",d),(d==="media"||d==="schema")&&(c("currentCollection",null),c("currentItem",null)),d==="schema"&&!l.schema.content&&!l.schema.loading&&m.loadSchema()},setCurrentCollection(d){c("currentView","collections"),c("currentCollection",d),c("currentItem",null)},setCurrentItem(d){c("currentItem",d)}};return r.checkAuth().then(d=>{d&&m.handleAuthSuccess(d)}),[l,m]}const dr=We();function mi(e){const t=gi({config:e.config,backend:e.backend,auth:e.auth,schemaPath:e.schemaPath});return b(dr.Provider,{value:t,get children(){return[" ",H(()=>e.children)," "]}})}function ve(){const e=Je(dr);if(!e)throw new Error("useCMS must be used within a CMSProvider");return e}var pi=k("<form>");function U(e){const[t,n]=N(e);return{get value(){return t()},set value(r){n(()=>r)}}}function ee(e,t,n,r,s=!1){if(t.type==="object_with_rest"||t.type==="record"||t.type==="tuple_with_rest"||t.type==="promise")throw new Error(`"${t.type}" schema is not supported`);if(t.type==="lazy")ee(e,t.getter(void 0),n,r);else if(t.type==="exact_optional"||t.type==="nullable"||t.type==="nullish"||t.type==="optional"||t.type==="undefinedable")ee(e,t.wrapped,n===void 0?Qt(t):n,r,!0);else if(t.type==="non_nullable"||t.type==="non_nullish"||t.type==="non_optional")ee(e,t.wrapped,n,r);else if(t.type==="intersect"||t.type==="union"||t.type==="variant")for(const i of t.options)ee(e,i,n,r);else{e.schema=t,e.name=JSON.stringify(r);const i=[];if(e.initialElements=i,e.elements=i,e.errors=U(null),e.isTouched=U(!1),e.isDirty=U(!1),t.type==="array"||t.type==="loose_tuple"||t.type==="strict_tuple"||t.type==="tuple"){if(e.kind&&e.kind!=="array")throw new Error(`Store initialized as "${e.kind}" cannot be reinitialized as "array"`);if(e.kind="array",e.kind==="array"){if(e.children??=[],t.type==="array"){if(n)for(let l=0;l<n.length;l++)e.children[l]={},r.push(l),ee(e.children[l],t.item,n[l],r),r.pop()}else for(let l=0;l<t.items;l++)e.children[l]={},r.push(l),ee(e.children[l],t.items[l],n?.[l],r),r.pop();const a=s&&n==null?n:!0;e.initialInput=U(a),e.startInput=U(a),e.input=U(a);const o=e.children.map(pt);e.initialItems=U(o),e.startItems=U(o),e.items=U(o)}}else if(t.type==="loose_object"||t.type==="object"||t.type==="strict_object"){if(e.kind&&e.kind!=="object")throw new Error(`Store initialized as "${e.kind}" cannot be reinitialized as "object"`);if(e.kind="object",e.kind==="object"){e.children??={};for(const o in t.entries)e.children[o]={},r.push(o),ee(e.children[o],t.entries[o],n?.[o],r),r.pop();const a=s&&n==null?n:!0;e.initialInput=U(a),e.startInput=U(a),e.input=U(a)}}else e.kind="value",e.kind==="value"&&(e.initialInput=U(n),e.startInput=U(n),e.input=U(n))}}function ht(e,t){ae(()=>{j(()=>{if(t.elements=e.elements,t.errors.value=e.errors.value,t.startInput.value=e.startInput.value,t.input.value=e.input.value,t.isTouched.value=e.isTouched.value,t.isDirty.value=e.isDirty.value,e.kind==="array"&&t.kind==="array"){const n=e.items.value;t.startItems.value=e.startItems.value,t.items.value=n;let r;for(let s=0;s<n.length;s++)t.children[s]||(r??=JSON.parse(t.name),t.children[s]={},r.push(s),ee(t.children[s],t.schema.item,void 0,r),r.pop()),ht(e.children[s],t.children[s])}else if(e.kind==="object"&&t.kind==="object")for(const n in e.children)ht(e.children[n],t.children[n])})})}function qt(e,t){ae(()=>{if(e.elements=[],e.errors.value=null,e.isTouched.value=!1,e.isDirty.value=!1,e.kind==="array"||e.kind==="object"){const n=t==null?t:!0;if(e.startInput.value=n,e.input.value=n,e.kind==="array")if(t){const r=t.map(pt);e.startItems.value=r,e.items.value=r;for(let s=0;s<t.length;s++)e.children[s]&&qt(e.children[s],t[s])}else e.startItems.value=[],e.items.value=[];else for(const r in e.children)qt(e.children[r],t?.[r])}else e.startInput.value=t,e.input.value=t})}function ze(e){if(e.kind==="array"){if(e.input.value){const t=[];for(let n=0;n<e.items.value.length;n++)t[n]=ze(e.children[n]);return t}return e.input.value}if(e.kind==="object"){if(e.input.value){const t={};for(const n in e.children)t[n]=ze(e.children[n]);return t}return e.input.value}return e.input.value}function yi(e,t){if(e.options&&e.multiple)return[...e.options].filter(n=>n.selected&&!n.disabled).map(n=>n.value);if(e.type==="checkbox"){const n=document.getElementsByName(e.name);return n.length>1?[...n].filter(r=>r.checked).map(r=>r.value):e.checked}return e.type==="radio"?e.checked?e.value:j(()=>ze(t)):e.type==="file"?e.multiple?[...e.files]:e.files[0]:e.value}function Q(e,t){if(e[t].value)return!0;if(e.kind==="array"){for(let n=0;n<e.items.value.length;n++)if(Q(e.children[n],t))return!0;return!1}if(e.kind=="object"){for(const n in e.children)if(Q(e.children[n],t))return!0;return!1}return!1}function an(e,t){let n=e;for(const r of t)n=n.children[r];return n}function Kt(e,t,n){ae(()=>{if(e.kind==="array"){e[t].value=n;for(let r=0;r<j(()=>e.items.value).length;r++)Kt(e.children[r],t,n)}else if(e.kind=="object")for(const r in e.children)Kt(e.children[r],t,n);else e[t].value=n})}function Gt(e,t){if(e.isTouched.value=!0,e.kind==="array"){const n=t??[],r=e.items.value;if(n.length<r.length)e.items.value=r.slice(0,n.length);else if(n.length>r.length){if(n.length>e.children.length){const s=JSON.parse(e.name);for(let i=e.children.length;i<n.length;i++)e.children[i]={},s.push(i),ee(e.children[i],e.schema.item,n[i],s),s.pop()}e.items.value=[...r,...n.slice(r.length).map(pt)]}for(let s=0;s<n.length;s++)Gt(e.children[s],n[s]);e.input.value=t==null?t:!0,e.isDirty.value=e.startInput.value!==e.input.value||e.startItems.value.length!==r.length}else if(e.kind==="object"){for(const n in e.children)Gt(e.children[n],t?.[n]);e.input.value=t==null?t:!0,e.isDirty.value=e.startInput.value!==e.input.value}else{e.input.value=t;const n=e.startInput.value;e.isDirty.value=n!==t&&(n!=null||t!==""&&!Number.isNaN(t))}}function bi(e,t,n){ae(()=>{j(()=>{let r=e;for(let s=0;s<t.length;s++)r=r.children[t[s]],s<t.length-1&&(r.input.value=!0);Gt(r,n)})})}function zt(e,t){if(t(e),e.kind==="array")for(let n=0;n<j(()=>e.items.value).length;n++)zt(e.children[n],t);else if(e.kind==="object")for(const n in e.children)zt(e.children[n],t)}function wi(e,t){const n={};return ee(n,e.schema,e.initialInput,[]),n.validators=0,n.validate=e.validate??"submit",n.revalidate=e.revalidate??"input",n.parse=t,n.isSubmitting=U(!1),n.isSubmitted=U(!1),n.isValidating=U(!1),n}async function on(e,t){e.validators++,e.isValidating.value=!0;const n=await e.parse(j(()=>ze(e)));let r,s;if(n.issues){s={};for(const a of n.issues)if(a.path){const o=[];for(const f of a.path){const u=f.key,h=typeof u,m=f.type;if(h!=="string"&&h!=="number"||m==="map"||m==="set")break;o.push(u)}const l=JSON.stringify(o),c=s[l];c?c.push(a.message):s[l]=[a.message]}else r?r.push(a.message):r=[a.message]}let i=t?.shouldFocus??!1;return ae(()=>{zt(e,a=>{if(a.name==="[]")a.errors.value=r??null;else{const o=s?.[a.name]??null;a.errors.value=o,i&&o&&(a.elements[0]?.focus(),i=!1)}}),e.validators--,e.isValidating.value=e.validators>0}),n}function Ce(e,t,n){n===(e.validate==="initial"||(e.validate==="submit"?j(()=>e.isSubmitted.value):j(()=>Q(t,"errors")))?e.revalidate:e.validate)&&on(e)}var ue="~internal";function vi(e,t){return async n=>{n.preventDefault();const r=e[ue];r.isSubmitted.value=!0,r.isSubmitting.value=!0;try{const s=await on(r,{shouldFocus:!0});s.success&&await t(s.output,n)}catch(s){r.errors.value=[s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"?s.message:"An unknown error has occurred."]}finally{r.isSubmitting.value=!1}}}function $i(e,t){const n=e[ue];let r=n;for(let o=0;o<t.path.length;o++)r=r.children[t.path[o]],o<t.path.length-1&&(r.input.value=!0);const s=r,i=j(()=>s.items.value),a=t.at===void 0?i.length:t.at;a>=0&&a<=i.length&&ae(()=>{const o=[...i];o.splice(a,0,pt()),s.items.value=o;for(let l=i.length;l>a;l--)ht(s.children[l-1],s.children[l]);if(s.children[a])qt(s.children[a],t.initialInput);else{const l=JSON.parse(s.name);s.children[a]={},l.push(a),ee(s.children[a],s.schema.item,t.initialInput,l)}s.input.value=!0,s.isTouched.value=!0,s.isDirty.value=!0,Ce(n,s,"input")})}function ki(e,t){const n=e[ue],r=an(n,t.path),s=j(()=>r.items.value);t.at>=0&&t.at<=s.length-1&&ae(()=>{const i=[...s];i.splice(t.at,1),r.items.value=i;for(let a=t.at;a<s.length-1;a++)ht(r.children[a+1],r.children[a]);r.isTouched.value=!0,r.isDirty.value=r.startItems.value.join()!==i.join(),Ce(n,r,"input")})}function _i(e){const t=wi(e,a=>ds(e.schema,a)),n=x(()=>Q(t,"isTouched")),r=x(()=>Q(t,"isDirty")),s=x(()=>!Q(t,"errors")),i={[ue]:t,get isSubmitting(){return t.isSubmitting.value},get isSubmitted(){return t.isSubmitted.value},get isValidating(){return t.isValidating.value},get isTouched(){return n()},get isDirty(){return r()},get isValid(){return s()},get errors(){return t.errors.value}};return e.validate==="initial"&&on(i[ue]),i}function Me(e){return typeof e=="function"?e():e}function xi(e,t){const n=x(()=>Me(t).path),r=x(()=>Me(e)[ue]),s=x(()=>an(r(),n())),i=x(()=>ze(s())),a=x(()=>Q(s(),"isTouched")),o=x(()=>Q(s(),"isDirty")),l=x(()=>!Q(s(),"errors"));return{get path(){return n()},get input(){return i()},get errors(){return s().errors.value},get isTouched(){return a()},get isDirty(){return o()},get isValid(){return l()},props:{get name(){return s().name},autofocus:!!s().errors.value,ref:c=>{const f=s();f.elements.push(c),fe(()=>{f.elements=f.elements.filter(u=>u!==c)})},onFocus(){Kt(s(),"isTouched",!0),Ce(r(),s(),"touch")},onInput(c){const f=s();bi(r(),n(),yi(c.currentTarget,f)),Ce(r(),f,"input")},onChange(){Ce(r(),s(),"change")},onBlur(){Ce(r(),s(),"blur")}}}}function Ai(e,t){const n=x(()=>an(Me(e)[ue],Me(t).path)),r=x(()=>Q(n(),"isTouched")),s=x(()=>Q(n(),"isDirty")),i=x(()=>!Q(n(),"errors"));return{get path(){return Me(t).path},get items(){return n().items.value},get errors(){return n().errors.value},get isTouched(){return r()},get isDirty(){return s()},get isValid(){return i()}}}function Pi(e){const t=xi(()=>e.of,()=>({path:e.path}));return H(()=>e.children(t))}function Ci(e){const t=Ai(()=>e.of,()=>({path:e.path}));return H(()=>e.children(t))}function Ei(e){const[,t]=Dn(e,["of","onSubmit"]);return(()=>{var n=pi();return Zt(r=>{e.of[ue].element=r},n),X(n,K(t,{novalidate:!0,onSubmit:r=>vi(e.of,e.onSubmit)(r)}),!1,!1),n})()}var Si=k("<input type=text class=input>"),Oi=k('<textarea class="input textarea">'),ji=k('<textarea class="input textarea markdown-editor">'),Ti=k("<input type=number class=input>"),Ii=k("<span class=checkbox-description>"),Li=k("<label class=checkbox-label><input type=checkbox class=checkbox>"),Ni=k("<input type=date class=input>"),Di=k("<input type=datetime-local class=input>"),Ri=k('<input type=text class="input slug-input">'),Mi=k("<img alt=Preview class=image-preview>"),Ui=k('<div class=image-input><div class=image-input-row><input type=url class=input><label class="btn btn-secondary upload-btn"><input type=file>'),Bi=k('<select class="input select"><option value>Select...'),hr=k("<option>"),Vi=k('<select class="input select"><option value>Select <!>...'),qi=k('<div class="field object-field"><label class=field-label></label><div class=object-field-entries>'),Ki=k('<div class=array-field-empty>No items yet. Click "Add" to create one.'),Gi=k('<div class="field array-field"><div class=array-field-header><label class=field-label></label><button type=button class="btn btn-small btn-secondary">+ Add</button></div><div class=array-field-items>'),zi=k('<div class=array-field-item><div class=array-field-item-content></div><button type=button class="btn btn-small btn-danger array-field-remove">'),Hi=k("<span class=field-error>"),Wi=k("<div class=field><label class=field-label>");function Ji(e){return"type"in e&&e.type==="array"&&"item"in e}function Xi(e){return Ie(e).ui?!1:"type"in e&&e.type==="object"&&"entries"in e}function Yi(e){const t=Ie(e);if(t.ui)return t.ui;if("type"in e)switch(e.type){case"string":return"text";case"number":return"number";case"boolean":return"boolean";default:return"text"}return"text"}function Zi(e,t){const n=Ie(e);if(n.label)return n.label;const r=t[t.length-1];return String(r).replace(/([A-Z])/g," $1").replace(/^./,s=>s.toUpperCase()).trim()}function gr(e){if("type"in e)switch(e.type){case"string":return"";case"number":return 0;case"boolean":return!1;case"array":return[];case"object":if("entries"in e&&typeof e.entries=="object"){const t=e.entries;return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,gr(r)]))}return{};default:return}}const Fi=e=>(()=>{var t=Si();return X(t,K(()=>e.field.props,{get value(){return e.field.input??""},get placeholder(){return e.metadata.placeholder}}),!1,!1),t})(),Qi=e=>(()=>{var t=Oi();return X(t,K(()=>e.field.props,{get value(){return e.field.input??""},get placeholder(){return e.metadata.placeholder},rows:5}),!1,!1),t})(),ea=e=>(()=>{var t=ji();return X(t,K(()=>e.field.props,{get value(){return e.field.input??""},get placeholder(){return e.metadata.placeholder||"Write markdown..."},rows:10}),!1,!1),t})(),ta=e=>(()=>{var t=Ti();return X(t,K(()=>e.field.props,{get value(){return e.field.input??""},get min(){return e.metadata.min},get max(){return e.metadata.max},get step(){return e.metadata.step}}),!1,!1),t})(),na=e=>(()=>{var t=Li(),n=t.firstChild;return X(n,K(()=>e.field.props,{get checked(){return e.field.input??!1}}),!1,!1),$(t,b(I,{get when(){return e.metadata.description},get children(){var r=Ii();return $(r,()=>e.metadata.description),r}}),null),t})(),ra=e=>(()=>{var t=Ni();return X(t,K(()=>e.field.props,{get value(){return e.field.input??""}}),!1,!1),t})(),sa=e=>(()=>{var t=Di();return X(t,K(()=>e.field.props,{get value(){return e.field.input??""}}),!1,!1),t})(),ia=e=>(()=>{var t=Ri();return X(t,K(()=>e.field.props,{get value(){return e.field.input??""},get placeholder(){return e.metadata.placeholder||"my-slug"},pattern:"^[a-z0-9]+(?:-[a-z0-9]+)*$"}),!1,!1),t})(),xn=e=>{const[,t]=ve(),[n,r]=N(!1);let s;const i=()=>e.field.input,a=()=>e.metadata.accept||"image/*",o=()=>e.metadata.path,l=async c=>{const u=c.target.files?.[0];if(u){r(!0);try{const h=await t.uploadFile(u,o());s&&(s.value=h,s.dispatchEvent(new Event("input",{bubbles:!0})))}catch(h){console.error("Upload failed:",h),alert("Upload failed: "+(h instanceof Error?h.message:"Unknown error"))}finally{r(!1)}}};return(()=>{var c=Ui(),f=c.firstChild,u=f.firstChild,h=u.nextSibling,m=h.firstChild,d=s;return typeof d=="function"?Zt(d,u):s=u,X(u,K(()=>e.field.props,{get value(){return i()??""},placeholder:"https://example.com/image.jpg"}),!1,!1),$(h,()=>n()?"...":"Upload",m),m.addEventListener("change",l),Hr(m,"display","none"),$(c,b(I,{get when(){return i()},get children(){var g=Mi();return R(()=>q(g,"src",i())),g}}),null),R(g=>{var p=a(),v=n();return p!==g.e&&q(m,"accept",g.e=p),v!==g.t&&(m.disabled=g.t=v),g},{e:void 0,t:void 0}),c})()},aa=e=>{const t=()=>e.metadata.options||[];return(()=>{var n=Bi();return n.firstChild,X(n,K(()=>e.field.props,{get value(){return e.field.input??""}}),!1,!0),$(n,b(ye,{get each(){return t()},children:r=>(()=>{var s=hr();return s.value=r,$(s,r),s})()}),null),n})()},oa=e=>{const[t]=ve(),n=()=>e.metadata.collection,r=()=>t.collections[n()]?.items||[];return(()=>{var s=Vi(),i=s.firstChild,a=i.firstChild,o=a.nextSibling;return o.nextSibling,X(s,K(()=>e.field.props,{get value(){return e.field.input??""}}),!1,!0),$(i,n,o),$(s,b(ye,{get each(){return r()},children:l=>(()=>{var c=hr();return $(c,()=>l.data.name||l.data.title||l.id),R(()=>c.value=l.id),c})()}),null),s})()},la={text:Fi,textarea:Qi,markdown:ea,number:ta,boolean:na,date:ra,datetime:sa,slug:ia,image:xn,file:xn,select:aa,reference:oa};function ca(e){return(()=>{var t=qi(),n=t.firstChild,r=n.nextSibling;return $(n,()=>e.label),$(r,b(ye,{get each(){return Object.entries(e.entries)},children:([s,i])=>b(ln,{get form(){return e.form},get path(){return[...e.path,s]},schema:i})})),t})()}function ua(e){const t=()=>{$i(e.form,{path:e.path,initialInput:gr(e.itemSchema)})},n=r=>{ki(e.form,{path:e.path,at:r})};return b(Ci,{get of(){return e.form},get path(){return e.path},children:r=>(()=>{var s=Gi(),i=s.firstChild,a=i.firstChild,o=a.nextSibling,l=i.nextSibling;return $(a,()=>e.label),o.$$click=t,$(l,b(Sr,{get each(){return r.items},children:(c,f)=>(()=>{var u=zi(),h=u.firstChild,m=h.nextSibling;return $(h,b(ln,{get form(){return e.form},get path(){return[...e.path,f]},get schema(){return e.itemSchema},get label(){return`${e.label} ${f+1}`}})),m.$$click=()=>n(f),u})()})),$(s,b(I,{get when(){return r.items.length===0},get children(){return Ki()}}),null),s})()})}function ln(e){const t=()=>Yi(e.schema),n=()=>e.label||Zi(e.schema,e.path),r=()=>Ie(e.schema);return b(Mn,{get fallback(){return b(Pi,{get of(){return e.form},get path(){return e.path},children:s=>(()=>{var i=Wi(),a=i.firstChild;return $(a,n),$(i,b(ts,{get component(){return la[t()]},field:s,get metadata(){return r()}}),null),$(i,b(I,{get when(){return s.errors?.[0]},get children(){var o=Hi();return $(o,()=>s.errors[0]),o}}),null),i})()})},get children(){return[b(ct,{get when(){return Ji(e.schema)},get children(){return b(ua,{get form(){return e.form},get path(){return e.path},get itemSchema(){return e.schema.item},get label(){return n()},get metadata(){return r()}})}}),b(ct,{get when(){return Xi(e.schema)},get children(){return b(ca,{get form(){return e.form},get path(){return e.path},get entries(){return e.schema.entries},get label(){return n()}})}})]}})}de(["click"]);var fa=k("<div class=form-fields>"),da=k("<div class=form-error>"),ha=k('<button type=button class="btn btn-secondary">Cancel'),ga=k('<div class=form-actions><button type=submit class="btn btn-primary">');function ma(e){const t=_i({schema:e.schema,values:e.initialData}),n=()=>en(e.schema);return b(Ei,{of:t,onSubmit:async s=>{await e.onSubmit(s)},class:"schema-form",get children(){return[(()=>{var s=fa();return $(s,b(ye,{get each(){return Object.entries(n()||{})},children:([i,a])=>b(ln,{form:t,path:[i],schema:a})})),s})(),b(I,{get when(){return e.error},get children(){var s=da();return $(s,()=>e.error),s}}),(()=>{var s=ga(),i=s.firstChild;return $(s,b(I,{get when(){return e.onCancel},get children(){var a=ha();return Bn(a,"click",e.onCancel,!0),R(()=>a.disabled=e.pending),a}}),i),$(i,(()=>{var a=H(()=>!!e.pending);return()=>a()?"Saving...":e.submitLabel||"Save"})()),R(()=>i.disabled=e.pending),s})()]}})}de(["click"]);var pa=k("<div class=editor><div class=editor-header><h2 class=editor-title>");function ya(e){const[t,n]=ve(),[,r]=sn(),s=ii(_n),i=si(_n),a=()=>e.itemId==="__new__",o=()=>e.collectionKey.charAt(0).toUpperCase()+e.collectionKey.slice(1),l=()=>a()?void 0:t.collections[e.collectionKey]?.items.find(h=>h.id===e.itemId),c=async u=>{const h=l()?.sha;if(await s(e.collectionKey,u,h,n),a()){const m=u.slug??u.id;m&&r({item:m},{replace:!0})}},f=()=>{r({item:null})};return(()=>{var u=pa(),h=u.firstChild,m=h.firstChild;return $(m,(()=>{var d=H(()=>!!a());return()=>d()?`New ${o()}`:`Edit ${o()}`})()),$(u,b(I,{get when(){return H(()=>!!a())()?e.itemId:l()},keyed:!0,children:d=>b(ma,{get schema(){return e.schema},get initialData(){return H(()=>!!a())()?void 0:d.data},onSubmit:c,onCancel:f,get submitLabel(){return a()?"Create":"Save"},get pending(){return i.pending},get error(){return H(()=>!!i.error)()?String(i.error):void 0}})}),null),u})()}var ba=k("<a>");const An=["view","collection","item"];function Ht(e){const[t]=sn(),n=()=>{const s=new URLSearchParams;for(const a of An)e.params[a]&&s.set(a,e.params[a]);const i=s.toString();return i?`?${i}`:"?"},r=()=>An.every(s=>{const i=e.params[s];return i===void 0?!t[s]:t[s]===i});return(()=>{var s=ba();return $(s,()=>e.children),R(i=>{var a=n(),o=`${e.class||""} ${r()&&e.activeClass?e.activeClass:""}`;return a!==i.e&&q(s,"href",i.e=a),o!==i.t&&Un(s,i.t=o),i},{e:void 0,t:void 0}),s})()}var wa=k("<div class=media-library-loading>Loading media..."),va=k("<div class=media-library-error>"),$a=k("<div class=media-library-empty>No media files yet. Upload files through content fields."),ka=k("<div class=media-library><div class=media-library-header><h2 class=media-library-title>Media Library</h2></div><div class=media-grid>"),_a=k("<img loading=lazy>",!0,!1,!1),xa=k('<div class=media-item><div class=media-preview></div><div class=media-info><span class=media-name></span><span class=media-meta></span></div><button class="media-delete btn btn-danger btn-small"title="Delete file">'),Aa=k("<div class=media-file-icon><span class=media-file-ext>");function Pa(){const[e,t]=ve(),[n,r]=N(null),s=o=>/\.(jpg|jpeg|png|gif|webp|svg|ico)$/i.test(o),i=o=>o<1024?`${o} B`:o<1024*1024?`${(o/1024).toFixed(1)} KB`:`${(o/(1024*1024)).toFixed(1)} MB`,a=async o=>{const c=t.getMediaReferences(o.url).length,f=c>0?`This will delete the file and remove ${c} reference${c>1?"s":""} from your content. Continue?`:"Delete this file?";if(confirm(f)){r(o.path);try{await t.deleteMedia(o.url,o.path,o.sha)}finally{r(null)}}};return(()=>{var o=ka(),l=o.firstChild,c=l.nextSibling;return $(o,b(I,{get when(){return e.media.loading},get children(){return wa()}}),c),$(o,b(I,{get when(){return e.media.error},get children(){var f=va();return $(f,()=>e.media.error),f}}),c),$(o,b(I,{get when(){return H(()=>!e.media.loading)()&&e.media.files.length===0},get children(){return $a()}}),c),$(c,b(ye,{get each(){return e.media.files},children:f=>{const u=()=>t.getMediaReferences(f.url);return(()=>{var h=xa(),m=h.firstChild,d=m.nextSibling,g=d.firstChild,p=g.nextSibling,v=d.nextSibling;return $(m,b(I,{get when(){return s(f.name)},get fallback(){return(()=>{var y=Aa(),_=y.firstChild;return $(_,()=>f.name.split(".").pop()?.toUpperCase()),y})()},get children(){var y=_a();return R(_=>{var P=f.url,T=f.name;return P!==_.e&&q(y,"src",_.e=P),T!==_.t&&q(y,"alt",_.t=T),_},{e:void 0,t:void 0}),y}})),$(g,()=>f.name),$(p,()=>i(f.size),null),$(p,b(I,{get when(){return u().length>0},get children(){return["  ",H(()=>u().length)," ref",H(()=>u().length>1?"s":"")]}}),null),v.$$click=()=>a(f),$(v,()=>n()===f.path?"...":""),R(y=>{var _=n()===f.path,P=f.name,T=n()===f.path;return _!==y.e&&h.classList.toggle("deleting",y.e=_),P!==y.t&&q(g,"title",y.t=P),T!==y.a&&(v.disabled=y.a=T),y},{e:void 0,t:void 0,a:void 0}),h})()}})),o})()}de(["click"]);var Ca=k("<div class=cms-welcome><h2>Welcome to Plasticine</h2><p>Select a collection from the sidebar to get started."),Ea=k("<div>Collection not found"),Sa=k("<span class=media-nav-name>Library"),Oa=k("<span class=media-nav-count>"),ja=k("<aside class=cms-sidebar><nav class=collection-list><h2 class=collection-list-title>Collections</h2><ul class=collection-list-items></ul></nav><nav class=media-nav><h2 class=media-nav-title>Media</h2><ul class=media-nav-items>"),Ta=k("<span class=collection-name>"),Ia=k("<span class=collection-count>"),La=k('<div class=cms-user><img class=cms-avatar><span class=cms-username></span><button class="btn btn-small">Logout'),Na=k("<div class=cms-layout><header class=cms-header></header><div class=cms-body><main class=cms-main>"),Da=k("<div class=cms-loading><div class=cms-loading-content><h2>Loading...</h2><p>Fetching your content");function Ra(){return Ca()}function Ma(e){const[t]=sn();return b(Mn,{get fallback(){return b(Ra,{})},get children(){return[b(ct,{get when(){return t.view==="media"},get children(){return b(Pa,{})}}),b(ct,{get when(){return t.item},children:n=>b(I,{get when(){return H(()=>!!t.collection)()?{collectionKey:t.collection,schema:e.config.getSchema(t.collection)}:!1},get fallback(){return Ea()},children:r=>b(ya,K(r,{get itemId(){return n()}}))})})]}})}function Ua(e){const[t]=ve(),n=r=>r.charAt(0).toUpperCase()+r.slice(1);return(()=>{var r=ja(),s=r.firstChild,i=s.firstChild,a=i.nextSibling,o=s.nextSibling,l=o.firstChild,c=l.nextSibling;return $(a,()=>e.config.getCollections().map(f=>b(Ht,{params:{collection:f},class:"collection-list-item",activeClass:"active",get children(){return[(()=>{var u=Ta();return $(u,()=>n(f)),u})(),(()=>{var u=Ia();return $(u,()=>t.collections[f]?.items.length||0),u})()]}}))),$(c,b(Ht,{params:{view:"media"},class:"media-nav-item",activeClass:"active",get children(){return[Sa(),(()=>{var f=Oa();return $(f,()=>t.media.files.length),f})()]}})),r})()}function Ba(e){const[t,n]=ve();return(()=>{var r=Na(),s=r.firstChild,i=s.nextSibling,a=i.firstChild;return $(s,b(Ht,{params:{},class:"cms-logo",children:"Plasticine"}),null),$(s,b(I,{get when(){return t.user},get children(){var o=La(),l=o.firstChild,c=l.nextSibling,f=c.nextSibling;return $(c,()=>t.user.login),f.$$click=()=>n.logout(),R(u=>{var h=t.user.avatar_url,m=t.user.login;return h!==u.e&&q(l,"src",u.e=h),m!==u.t&&q(l,"alt",u.t=m),u},{e:void 0,t:void 0}),o}}),null),$(i,b(Ua,{get config(){return e.config}}),a),$(a,b(Ma,{get config(){return e.config}})),r})()}function Va(e){const[t,n]=ve();return b(I,{get when(){return t.authenticated},get fallback(){return b(e.auth.LoginScreen,{get onSuccess(){return n.handleAuthSuccess}})},get children(){return b(I,{get when(){return!t.dataLoading},get fallback(){return Da()},get children(){return b(Ba,{get config(){return e.config}})}})}})}function Pn(e){return b(mi,{get config(){return e.config},get backend(){return e.backend},get auth(){return e.auth},get schemaPath(){return e.schemaPath},get children(){return b(Va,{get config(){return e.config},get auth(){return e.auth}})}})}function qa(e){try{return rn(),b(Pn,e)}catch{return b(ar,{get children(){return b(Ut,{path:"*",component:()=>b(Pn,e)})}})}}de(["click"]);de(["click"]);const mr=ns({authors:Pt(ge({slug:nt({label:"Slug"}),name:Ae({label:"Name",placeholder:"John Doe"}),bio:me(hs({label:"Bio",placeholder:"A short bio..."})),avatar:me(At({label:"Avatar",path:"avatars"}))})),posts:Pt(ge({slug:nt({label:"Slug"}),title:Ae({label:"Title",placeholder:"My awesome post"}),content:xt({label:"Content"})})).version(ge({slug:nt({label:"Slug"}),title:Ae({label:"Title",placeholder:"My awesome post"}),cover:me(At({label:"Cover Image",path:"covers"})),content:xt({label:"Content"}),author:me(ys("authors",{label:"Author"})),draft:gs({label:"Draft",description:"Keep this post as draft"}),publishedAt:me(ms({label:"Published Date"})),images:Dt(ge({src:At({label:"Image",path:"posts"}),alt:me(Ae({label:"Alt Text"})),tags:Dt(ge({name:Ae({label:"Tag Name"})}))}))}),e=>({...e,cover:void 0,author:void 0,draft:!0,publishedAt:void 0,images:[]})),pages:Pt(ge({slug:nt({label:"Slug"}),title:Ae({label:"Title"}),content:xt({label:"Content"}),template:ps(["default","landing","contact"],{label:"Template"})}))});var Ka=k("<img alt class=post-cover>"),Ga=k("<img alt class=author-avatar>"),za=k("<div class=post-author><span>"),Ha=k("<time class=post-date>"),Wa=k("<article class=post-card><div class=post-content><h2 class=post-title></h2><div class=post-excerpt>..."),Ja=k("<img alt class=author-avatar-large>"),Xa=k("<p>"),Ya=k("<div class=author-card><h3>"),Za=k("<div class=posts-grid>"),Fa=k("<div class=authors-grid>"),Qa=k("<div class=app><header class=header><h1>My Blog</h1><nav><a href=#posts>Posts</a><a href=#authors>Authors</a></nav></header><main><section id=posts class=section><h2>Latest Posts</h2></section><section id=authors class=section><h2>Authors</h2></section></main><footer class=footer><p>Powered by Plasticine CMS"),eo=k("<p>Loading posts..."),to=k("<p>No posts yet."),no=k("<p>Loading authors..."),ro=k("<p>No authors yet.");const Cn=vs(mr,{owner:"bigmistqke",repo:"plasticine-cms",branch:"main",contentPath:"demo/demo1/content"});function so(e){const t=()=>e.authors.find(n=>n.slug===e.post.author);return(()=>{var n=Wa(),r=n.firstChild,s=r.firstChild,i=s.nextSibling,a=i.firstChild;return $(n,b(I,{get when(){return e.post.cover},get children(){var o=Ka();return R(()=>q(o,"src",e.post.cover)),o}}),r),$(s,()=>e.post.title),$(r,b(I,{get when(){return t()},get children(){var o=za(),l=o.firstChild;return $(o,b(I,{get when(){return t().avatar},get children(){var c=Ga();return R(()=>q(c,"src",t().avatar)),c}}),l),$(l,()=>t().name),o}}),i),$(r,b(I,{get when(){return e.post.publishedAt},get children(){var o=Ha();return $(o,()=>new Date(e.post.publishedAt).toLocaleDateString()),o}}),i),$(i,()=>e.post.content.slice(0,200),a),n})()}function io(e){return(()=>{var t=Ya(),n=t.firstChild;return $(t,b(I,{get when(){return e.author.avatar},get children(){var r=Ja();return R(()=>q(r,"src",e.author.avatar)),r}}),n),$(n,()=>e.author.name),$(t,b(I,{get when(){return e.author.bio},get children(){var r=Xa();return $(r,()=>e.author.bio),r}}),null),t})()}function ao(){const[e]=dn(()=>Cn.posts.getAll()),[t]=dn(()=>Cn.authors.getAll()),n=()=>(e()||[]).map(s=>s.data).filter(s=>!s.draft).sort((s,i)=>!s.publishedAt||!i.publishedAt?0:new Date(i.publishedAt).getTime()-new Date(s.publishedAt).getTime()),r=()=>(t()||[]).map(s=>s.data);return(()=>{var s=Qa(),i=s.firstChild,a=i.nextSibling,o=a.firstChild;o.firstChild;var l=o.nextSibling;return l.firstChild,$(o,b(mn,{get fallback(){return eo()},get children(){return b(I,{get when(){return n().length>0},get fallback(){return to()},get children(){var c=Za();return $(c,b(ye,{get each(){return n()},children:f=>b(so,{post:f,get authors(){return r()}})})),c}})}}),null),$(l,b(mn,{get fallback(){return no()},get children(){return b(I,{get when(){return r().length>0},get fallback(){return ro()},get children(){var c=Fa();return $(c,b(ye,{get each(){return r()},children:f=>b(io,{author:f})})),c}})}}),null),s})()}const oo=ks({owner:"bigmistqke",repo:"plasticine-cms",branch:"main",contentPath:"demo/demo1/content"}),lo=Ps(),co=document.getElementById("root");Vr(()=>b(ar,{base:"plasticine-cms",get children(){return[b(Ut,{path:"/*",component:ao}),b(Ut,{path:"/admin/*",component:()=>b(qa,{config:mr,backend:oo,auth:lo,get schemaPath(){return"demo/demo1/config.ts"}})})]}}),co);
